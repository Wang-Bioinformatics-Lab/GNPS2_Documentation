{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to GNPS2 Documentation","text":"<p>GNPS2 is a web-based mass spectrometry analysis platform. GNPS2 aids in identification and discovery of new molecules in small molecule and natural products mass spectrometry data. </p> <p>As there are many aspects to GNPS, it can be a bit overwhelming. Here is a quick description of main functionalities:</p> <ol> <li>Computational Workflows for the Analysis of Mass Spectrometry Data</li> <li>Interactive Visualizations of Mass Spectrometry Data and Results</li> <li>Mass Spectrometry Knowledgebase Curation</li> <li>Big Data Integration and Visualization</li> </ol> <p>GNPS2 For Industry</p> <p>GNPS2 as a infrastructure is open for the academic community. If you are an industry user - please reach out to Ming or the UCR Technology Transfer Office to bring GNPS2 to your organization. </p>"},{"location":"ReDU_AccessingThroughExplorer/","title":"Accessing Pan-ReDU metadata through the Dataset Explorer","text":"<p>It is possible to access metadata partially through the Dataset Explorer.</p> <p>To do that fill a dataset accession number such as \"MSV000083077\" into the \"GNPS/Metabolights/PX Dataset Accession\" field. After that the Metadata to source from can be selected in the \"Metadata Source\" dropdown menu. You can select:</p> <pre><code>- REDU: which will source metadata from ReDU. Notive that not all column but only a selection will be sourced here. \n- MASSIVE: This will source metadata from MassIVE if available.\n</code></pre> <p>To get full access to all metadata visit the Pan-ReDU-Dashboard. </p>"},{"location":"ReDU_Contribution/","title":"Pan-ReDU metadata validation and submission","text":"<p>This tutorial explains how to submit metadata for your MassIVE dataset. This assumes that you have already submitted your mass spectral raw data at MassIVE (the tutorial for this step can be found here). If you submitted your raw data to MetaboLights or Metabolomics Workbench, we will automatically pull your raw data from there. In case you want to include a ReDU sheet for a dataset from there, please reach out to us.</p>"},{"location":"ReDU_Contribution/#steps-to-submit-your-metadata","title":"Steps to submit your metadata","text":"<ol> <li> <p>Create a metadata sheet</p> <ul> <li>You are allowed to use any of the columns displayed in our Term description sheet. The filename and MassiveID columns are required. From the other columns, you can select those relevant to your study. We hope that you provide as much information as possible!</li> <li>In ReDU, we use a controlled vocabulary, which means that you can only use certain terms in the table. These terms are controlled either by us or externally, as specified in the Term description sheet. The list of allowed terms controlled by us is displayed in the Allowed terms sheet. If you need more terms or columns, please reach out to yelabiead(at)ucsd.edu.</li> </ul> </li> <li> <p>Validate your metadata sheet</p> <ul> <li>After you have created your sheet, you should validate it to ensure everything is correct. To do this, you will need to make a copy of our Google Sheet.</li> </ul> <p></p> <ul> <li>Copy your metadata into an empty sheet and click ReDU-menu --&gt; Current Sheet Validation. This will validate your ReDU sheet and color cells depending on whether the values are accepted by Pan-ReDU or not. The first time you do this, you will encounter several warnings to click through, as you need to trust our Sheet to use it. Below, we have provided screenshots to show what to click. You will only need to do this the first time you make a copy of our sheet.  </li> </ul> <p></p> <p>How to click through warnings (only the first time the script is run):</p> <p></p> <p></p> <p></p> <p></p> <ul> <li> <p>After the script runs, you will see a popup indicating how many of your samples have been accepted or rejected. If a cell is colored red, it means that the respective row will not be accepted in ReDU. This occurs if your filenames don\u2019t have the expected extension (.mzML or .mzXML) or if your MassiveID is not valid. Cells colored in grey will be replaced with \"missing values\" in ReDU. If a cell is colored grey even though you think it should be accepted, check for spelling and capitalization errors or trailing white spaces (\" \") in your values. You can rerun the validation as often as needed.</p> </li> <li> <p>Once you are satisfied, you can download your table as a .tsv file.</p> </li> <li> <p>This TSV file can now be submitted to ReDU through our deposition portal.</p> </li> </ul> <p></p> </li> </ol>"},{"location":"ReDU_Contribution/#page-contributions","title":"Page Contributions","text":"<p>Yasin El Abiead (UCSD) and Mingxun Wang (UCR)</p>"},{"location":"ReDU_Dataselection_dashboard/","title":"Pan-ReDU Data Selection Dashboard User Guide","text":"<p>Welcome to the Pan-ReDU Dashboard! This guide will help you navigate the dashboard, filter data, download datasets, and utilize downstream tools for your metabolomics research.</p>"},{"location":"ReDU_Dataselection_dashboard/#overview","title":"Overview","text":"<p>The Pan-ReDU Dashboard is a comprehensive platform that aggregates metadata from public metabolomics repositories:</p> <ul> <li>MetaboLights</li> <li>Metabolomics Workbench</li> <li>GNPS</li> </ul> <p>By consolidating this data, the dashboard provides a unified interface for exploring and analyzing metabolomics datasets.</p>"},{"location":"ReDU_Dataselection_dashboard/#navigation-bar","title":"Navigation Bar","text":"<p>At the top of the dashboard, you'll find the navigation bar, which includes:</p> <ul> <li>Pan-ReDU Logo: Click to return to the homepage.</li> <li>Contribute Your Data: Link to submission page for your own metadata.</li> <li>Pan-ReDU Dashboard - Documentation: Access detailed documentation about the dashboard.</li> <li>Download Complete Pan-ReDU: Download the entire Pan-ReDU dataset.</li> </ul>"},{"location":"ReDU_Dataselection_dashboard/#summary-statistics","title":"Summary Statistics","text":"<p>On the left side of the dashboard, the Summary Statistics card provides quick insights:</p> <ul> <li>Total Files: Number of files available.</li> <li>Unique Datasets: Number of datasets.</li> <li>Files by DataSource: Breakdown of files by their source repository.</li> <li>Represented Taxonomies: Diversity of biological NCBI taxa represented.</li> <li>Human/Mouse Data: Specific statistics for human and mouse samples (often of interest for biomedical studies).</li> <li>Last Modified: Date when the dataset was last updated.</li> </ul>"},{"location":"ReDU_Dataselection_dashboard/#filtering-data","title":"Filtering Data","text":""},{"location":"ReDU_Dataselection_dashboard/#using-column-filters","title":"Using Column Filters","text":"<p>Below the summary statistics, the main data table displays the dataset. Each column header includes a filter input:</p> <ol> <li>Locate the Column Filter: Click on the filter input beneath the column name.</li> <li>Enter Filter Criteria: Input your filter expression. You can use operators such as:</li> <li><code>=</code>: Equals (for numerical and character columns)</li> <li><code>!=</code>: Not equal (for numerical columns)</li> <li><code>&gt;</code>: Greater than (for numerical columns)</li> <li><code>&lt;</code>: Less than (for numerical columns)</li> <li><code>&gt;=</code>: Greater than or equal to (for numerical columns)</li> <li><code>&lt;=</code>: Less than or equal to (for numerical columns)</li> <li><code>contains</code>: Contains substring (for character columns; case-insensitive)</li> <li> <p><code>scontains</code>: Contains substring (for character columns; case-sensitive)</p> </li> <li> <p>Apply Multiple Filters: Combine filters using <code>&amp;&amp;</code> (AND operator). For example:</p> <p>Example: To find entries where \"NCBITaxonomy\" contains 'Homo sapiens' and \"MassSpectrometer\" contains 'Orbitrap':</p> <pre><code>{NCBITaxonomy} contains \"Homo sapiens\" &amp;&amp; {MassSpectrometer} contains \"Orbitrap\"\n</code></pre> </li> <li> <p>Regular Expressions in Filters: Use regular expressions (regex) within the <code>contains</code> operator for complex filtering.</p> <p>Example: To find entries where <code>NCBITaxonomy</code> contains either \"Homo\" or \"Mus\", but not \"musculus\":</p> <pre><code>{NCBITaxonomy} contains \"(Homo|Mus)(?!.*musculus)\"\n</code></pre> <p>Example: To find samples where <code>UBERONBodyPartName</code> contains \"blood\" and <code>NCBITaxonomy</code> contains \"Rattus norvegicus\":</p> <pre><code>{UBERONBodyPartName} contains \"blood\" &amp;&amp; {NCBITaxonomy} contains \"Rattus norvegicus\"\n</code></pre> </li> </ol>"},{"location":"ReDU_Dataselection_dashboard/#example-filters","title":"Example Filters","text":"<p>The dashboard provides preset example filters for quick access. These filters are not meant to be exhaustive. For example, the Plant Samples filter will return all rows with value \"plant\" in the \"SampleType\" column rather than return all plant samples. For more complex filters (e.g., plant samples based on the NCBITaxonomy), download the whole dataset and do so locally or reach out to us:</p> <ul> <li>Human Samples: Filters for samples from Homo sapiens.</li> <li>Plant Samples: Shows samples categorized under plants.</li> <li>Orbitrap Mass Spectrometer: Filters samples analyzed using an Orbitrap mass spectrometer (QExactive, Orbitrap, Astral substrings).</li> <li>Homo sapiens and Mus but no Mus musculus: Advanced filter excluding Mus musculus.</li> <li>Blood Samples from Rattus norvegicus: Filters for blood samples from Rattus norvegicus.</li> <li>Samples with RP-LC, hydrophobic extraction and MS2 scans: Filters for files with MS/MS scans, hydrophobic extraction solvents, and reversed phase chromatography. (lipidomics type analysis)</li> </ul> <p>To use an example filter:</p> <ol> <li>Click on the Filter Name: Under \"Example Filters\", click the desired filter button.</li> <li>View Filtered Data: The data table will automatically update to reflect the filter.</li> </ol>"},{"location":"ReDU_Dataselection_dashboard/#subset-to-mzxml-files","title":"Subset to mz(X)ML Files","text":"<p>To filter the table to only include files ending with <code>.mzML</code> or <code>.mzXML</code>:</p> <ol> <li>Click \"Subset Table to mz(X)ML files\": This button is located under \"Filter Table\". Make sure the USI column is not toggled before clicking.</li> <li>View Results: The data table will display only the relevant files while keeping your current filters.</li> </ol>"},{"location":"ReDU_Dataselection_dashboard/#downloading-data","title":"Downloading Data","text":""},{"location":"ReDU_Dataselection_dashboard/#download-filtered-data","title":"Download Filtered Data","text":"<p>After applying your filters, you can download the resulting dataset by clicking \"ReDU Table\" which is located under \"Download Filtered Subset\".</p>"},{"location":"ReDU_Dataselection_dashboard/#usis-for-batch-processingdownload","title":"USIs for Batch Processing/Download","text":"<p>Download USIs of filtered ReDU table as tsv file which can be used for batch processing in various GNPS tools or raw data download.</p> <p>How to Use:   1. Download Data: You'll download a TSV file with USIs of the filtered table. You can download raw data for those USIs in batch via the command-line tool. The tutorial for that tool can be found here and on the next pages of this documentation.   2. Batch Molecular Networking or MassQL search: You can paste downloaded USIs directly into the text fields of the workflows for MassQL or Molecular Networking. If you do not have a GNPS2 account yet, reach out to Prof. Mingxun Wang.</p> <p>Note</p> <p>GNPS2 is a shared resource where the sceintific community can gain access to computational resources free of cost. For this reason batch processing of thousands if files via the downstream tooling described below (especially MassQL and Molecular Networking) will likely fail due to insufficient resources. However, if you still wish to do so you can always download raw data as described below and clone the Github Molecular Networking repository or Github MassQL repository to on your local computer. </p>"},{"location":"ReDU_Dataselection_dashboard/#download-complete-dataset","title":"Download Complete Dataset","text":"<p>To download the entire ReDU dataset click \"Download Complete ReDU\"** found in the navigation bar at the top.</p>"},{"location":"ReDU_Dataselection_dashboard/#viewdownload-raw-data-in-browser","title":"View/Download Raw Data in Browser","text":"<p>After selecting files via the row checkboxes you can view the selected raw data files directly in your browser or download them to your PC by chlicking the \"View/Download Raw Data in Browser\" button. This will redirect to the GNPS dashboard input page with the USIs already populated.</p> <p>Note</p> <p>Raw data download: If you wish to download raw data, scroll down to the 'File Summaries' section of the Dashboard and click the download buttons. </p>"},{"location":"ReDU_Dataselection_dashboard/#downstream-tooling","title":"Downstream Tooling","text":""},{"location":"ReDU_Dataselection_dashboard/#molecular-networkinglibrary-matching","title":"Molecular Networking/Library Matching","text":"<p>Generate Molecular Networks and molecule annotations for selected files.</p> <p>Note</p> <p>Batch processing: If you wish to process more files than can be selected on a single page, download the (filtered) ReDU table, as described above, or the filtered USIs (via the \"USIs for Batch Processing/Download\" button) and copy the USIs directly into the text field of the workflow.</p>"},{"location":"ReDU_Dataselection_dashboard/#massqlfragmentation-rule-search","title":"MassQL/Fragmentation Rule Search","text":"<p>Query mass spectrometry data using MassQL.</p> <p>Note</p> <p>Batch processing: If you wish to process more files than can be selected on a single page, download the (filtered) ReDU table, as described above, or the filtered USIs (via the \"USIs for Batch Processing/Download\" button) and copy the USIs directly into the text field of the workflow.</p>"},{"location":"ReDU_Dataselection_dashboard/#additional-features","title":"Additional Features","text":""},{"location":"ReDU_Dataselection_dashboard/#customizing-columns","title":"Customizing Columns","text":"<p>Select \"Hide Column\" or \"Show Column\"*: Customize which columns are visible.</p>"},{"location":"ReDU_Dataselection_dashboard/#page-contributions","title":"Page Contributions","text":"<p>Yasin El Abiead (UCSD), and Mingxun Wang (UCR)</p>"},{"location":"ReDU_overview/","title":"Pan-ReDU","text":"<p>Welcome to Pan-ReDU!</p>"},{"location":"ReDU_overview/#what-is-pan-redu","title":"What is Pan-ReDU","text":"<p>Finding and reusing data is hard. ReDU aims to make that easier. ReDU is a community-focused approach to find and reuse public data containing mass spectrometric data at the repository scale. It is a collection of metadata from MetaboLights, Metabolomics Workbench, and GNPS/MassIVE within a single table with harmonized nomenclature. Our goal is to empower researchers to contextualize their data with public data and explore questions using repository-scale public data.</p>"},{"location":"ReDU_overview/#components","title":"Components","text":"<p>There are three main components of Pan-ReDU to understand:</p> <ol> <li> <p>Understanding and navigating public metadata</p> <ul> <li>The Pan-ReDU dashboard is available here. Documentation on navigating the dashboard can be found on the following pages.</li> <li>Explanations of metadata categories can be found here.</li> <li>Allowed terms for each category are available here.</li> </ul> </li> <li> <p>Contributing public metadata </p> <ul> <li>Tools for validating and submitting metadata are explained on the following pages.</li> </ul> </li> <li> <p>Downloading raw data</p> <ul> <li>Given a dataset accession id (e.g. MSV000083665, MTBLS284 or ST002962) download raw data file-by-file through the GNPS2 Dataset Explorer from any supported repository, as explained on the following pages.</li> <li>Given a universal spectrum identifier (USI) (e.g. mzspec:MSV000083756:ccms_peak/Blank-3ACN-3IPA-2H2O_RE11_196.mzML) download raw data file-by-file through the GNPS Dashboard from any supported repository, as explained on the following pages.</li> <li>Given a list of USIs download raw data in batch using our downloadpublicdata tool from any supported repository, as explained on the following pages.</li> </ul> </li> </ol>"},{"location":"ReDU_overview/#page-contributions","title":"Page Contributions","text":"<p>Yasin El Abiead (UCSD) and Mingxun Wang (UCR)</p>"},{"location":"accounts/","title":"Accounts","text":""},{"location":"accounts/#account-creation","title":"Account Creation","text":"<p>To create an account, please contact the Wang Lab by emailing the PI Ming (mingxun.wang@cs.ucr.edu) or join us in office hours to get started. When sending email please use the following information:</p> <pre><code>Name: &lt;your name&gt;\nInstitution: &lt;your institution&gt;\n</code></pre> <p>If you'd like to just introduce yourself as well - always helpful. </p> <p>NOTE: Please also send your email from your academic affiliation email address and not a personal email address.</p> <p>Once you have a token, please create an account here.</p> <p>GNPS2 is in closed beta to make sure everything is working properly and is slowly ramping up for community use. </p> <p>Thank you for your patience!</p>"},{"location":"agilent_conversion/","title":"Agilent","text":"<p>This is the conversion for Agilent.</p>"},{"location":"agilent_conversion/#msconvert-and-gnps2","title":"MSConvert and GNPS2","text":"<p>One of the key issues with Agilent software converted with MSConvert, is that the MSConvert makes the scans non-sequential. Molecular Networking does not like this, so we have created a workflow in GNPS2 that renumbers the MS scans so that it is sequential. The general process involves this:</p> <ol> <li>Convert the Agilent data with MSConvert</li> <li>Upload the data to GNPS2</li> <li>Run the Agilent Conversion workflow</li> <li>Run the Classical Molecular Networking workflow in GNPS2.</li> </ol>"},{"location":"agilent_conversion/#agilent-software-qual","title":"Agilent Software - Qual","text":"<p>We can also do export directly from Agilent software.</p> <p>TODO: Finish this</p>"},{"location":"agilent_fbmn/","title":"Agilent","text":""},{"location":"agilent_fbmn/#feature-finding-in-agilent-software","title":"Feature Finding in Agilent Software","text":"<p>The first step is...</p>"},{"location":"agilent_fbmn/#analysis-in-gnps2","title":"Analysis in GNPS2","text":""},{"location":"agilent_fbmn/#agilent-explorer-2","title":"Agilent Explorer 2","text":"<p>Agilent Explorer 2 <code>.pfa</code> files contain feature groups, feature tables, and spectra all-in-one. Therefore, upload your <code>.pfa</code> file as an <code>inputspectra</code> into the workflow, and select all options as you normally would. The <code>Feature Finding Tool</code> should be set to <code>AGILENT_EXPLORER_2</code>.</p> <p>You can use the FBMN workflow in GNPS2. </p>"},{"location":"agilent_fbmn/#other-versions","title":"Other Versions","text":"<p>Be sure to select the AGILENT2 for the Feature Finding Tool.  </p>"},{"location":"api/","title":"API","text":""},{"location":"api/#gnps2","title":"GNPS2","text":"<p>TODO</p>"},{"location":"api/#chemicalstructurewebservice","title":"ChemicalStructureWebService","text":"<p>Web Server for Chemical Structure pictures as well as other chemical structure things</p>"},{"location":"api/#web-api-endpoints","title":"Web API Endpoints","text":"<p>Full resolution of all structural information conversion</p> <pre><code>https://structure.gnps2.org/convert?smiles=CCO\n</code></pre> <p>InChI Conversion</p> <pre><code>https://structure.gnps2.org/inchi?smiles=CN1C=NC2=C1C(=O)N(C(=O)N2C)C\n</code></pre> <p>InChIKey Conversion</p> <pre><code>https://structure.gnps2.org/inchikey?smiles=CN1C=NC2=C1C(=O)N(C(=O)N2C)C\n</code></pre> <p>Smiles Conversion</p> <pre><code>https://structure.gnps2.org/inchikey?smiles=InChI=1S/C8H10N4O2/c1-10-4-9-6-5(10)7(13)12(3)8(14)11(6)2/h4H,1-3H3\n</code></pre> <p>Mol Conversion</p> <pre><code>https://structure.gnps2.org/mol?smiles=InChI=1S/C8H10N4O2/c1-10-4-9-6-5(10)7(13)12(3)8(14)11(6)2/h4H,1-3H3\n</code></pre> <p>ClassyFire</p> <pre><code>https://structure.gnps2.org/classyfire?inchi=InChI=1S/C8H10N4O2/c1-10-4-9-6-5(10)7(13)12(3)8(14)11(6)2/h4H,1-3H3\n</code></pre> <p>Formula</p> <pre><code>https://structure.gnps2.org/formula?inchi=InChI=1S/C8H10N4O2/c1-10-4-9-6-5(10)7(13)12(3)8(14)11(6)2/h4H,1-3H3\n</code></pre> <p>Structure Mass</p> <pre><code>https://structure.gnps2.org/structuremass?inchi=InChI=1S/C8H10N4O2/c1-10-4-9-6-5(10)7(13)12(3)8(14)11(6)2/h4H,1-3H3\n</code></pre> <pre><code>https://structure.gnps2.org/structuremass?formula=C8H10N4O2\n</code></pre> <p>Adduct Masses</p> <pre><code>https://structure.gnps2.org/adductcalc?inchi=InChI=1S/C8H10N4O2/c1-10-4-9-6-5(10)7(13)12(3)8(14)11(6)2/h4H,1-3H3\n</code></pre> <p>Structure Fingerprint</p> <pre><code>https://structure.gnps2.org/structurefingerprint?inchi=InChI=1S/C8H10N4O2/c1-10-4-9-6-5(10)7(13)12(3)8(14)11(6)2/h4H,1-3H3\n</code></pre> <p>Structure Drawing</p> <pre><code>https://structure.gnps2.org/structureimg?inchi=InChI=1S/C8H10N4O2/c1-10-4-9-6-5(10)7(13)12(3)8(14)11(6)2/h4H,1-3H3\n</code></pre> <p>Structure Similarity</p> <pre><code>https://structure.gnps2.org/structuresimilarity?inchi1=InChI=1S/C8H10N4O2/c1-10-4-9-6-5(10)7(13)12(3)8(14)11(6)2/h4H,1-3H3&amp;smiles2=CN1C=NC2=C1C(=O)N(C(=O)N2C)C\n</code></pre>"},{"location":"api/#structure-natural-product-classifier-np-classifier","title":"Structure Natural Product Classifier (NP Classifier)","text":"<p>If you have Smiles</p> <pre><code>https://npclassifier.gnps2.org/classify?smiles=&lt;smiles string&gt;\n</code></pre> <p>Example</p> Example JSON Output <pre><code>{\n    class_results: [\n        \"Purine alkaloids\"\n    ],\n    superclass_results: [\n        \"Pseudoalkaloids\"\n    ],\n    pathway_results: [\n        \"Alkaloids\"\n    ],\n    isglycoside: false,\n    fp1: [\n        0,\n        0\n        ...\n    ],\n    fp2: [\n        0,\n        0,\n        ...\n    ]\n}\n</code></pre> <p>NPClassifier</p> <p>NPClassifier is A Deep Neural Network-Based Structural Classification Tool for Natural Products - check it out here. For citation: Kim, Hyun Woo, Mingxun Wang, Christopher A. Leber, Louis-F\u00e9lix Nothias, Raphael Reher, Kyo Bin Kang, Justin JJ van der Hooft, Pieter C. Dorrestein, William H. Gerwick, and Garrison W. Cottrell. \"NPClassifier: A deep neural network-based structural classification tool for natural products.\" Journal of Natural Products (2020). https://doi.org/10.1021/acs.jnatprod.1c00399. Checkout the tool index for a large scale workflow for batch classification. </p>"},{"location":"api/#redu-metadata","title":"ReDU Metadata","text":"<p>Getting files for a given metadata category <pre><code>https://redu.gnps2.org/attribute/&lt;attribute&gt;/attributeterm/&lt;term&gt;/files?filters=%5B%5D\n</code></pre></p> <p>Getting all terms per attribute <pre><code>https://redu.gnps2.org/attribute/&lt;attribute&gt;/attributeterms?filters=%5B%5D\n</code></pre></p>"},{"location":"api/#fast-search","title":"Fast Search","text":"<p>Rapidly search pre-made libraries GNPS and MassIVE spectral data.</p> <p>Search by peaks in json format using query_spectrum:</p> <pre><code>https://fasst.gnps2.org/search?usi=None&amp;precursor_mz=981.54&amp;charge=1&amp;library=gnpslibrary&amp;query_spectrum={%22n_peaks%22:15,%22peaks%22:[[165.06979370117188,0.38009798526763916],[167.072998046875,1.7413330078125],[179.07260131835938,0.2999509871006012],[180.08079528808594,100.0],[181.08859252929688,2.8455820083618164],[182.09649658203125,23.914995193481445],[192.08079528808594,0.6896359920501709],[193.0886993408203,0.2419929951429367],[208.07569885253906,3.9236950874328613],[210.09129333496094,51.83255386352539],[236.0706024169922,4.025279998779297],[253.09719848632812,21.652437210083008],[254.08120727539062,46.069068908691406],[255.0872039794922,0.3038550019264221],[271.1077880859375,0.7285820245742798]],%22precursor_charge%22:0,%22precursor_mz%22:271.1077}\n</code></pre> <p>Search by USI:</p> <pre><code>https://fasst.gnps2.org/search?library=gnpslibrary&amp;usi=mzspec:GNPS:GNPS-LIBRARY:accession:CCMSLIB00000001547\n</code></pre> <p>Parameters: * usi (mutually exclusive with query spectrum) * library: The pre-built library index, options are listed on the Fast Search GUI * analog: [Yes/No], Defaults to \"No\" * cache: [Yes/No], Defaults to \"No\" * lower_delta: defaults to 130 * upper_delta: defaults to 200 * pm_tolerance (Da): The tolerance for precursor mass matching in daltons, defaults to 0.05 * fragment_tolerance (Da): The tolerance for matching individual peaks in daltons, defaults to 0.05 * cosine_threshold: The minimum cosine threshold to be included in the results, defaults to 0.7 * query_spectrum (mututally exclusive with USI): A json formatted peak list</p>"},{"location":"api/#public-dataset-files","title":"Public Dataset Files","text":"<p>Access spectral data by USI or SpectrumID Getting all files per dataset</p> <pre><code>https://explorer.gnps2.org/api/datasets/{accession}/files\n</code></pre> <p>Getting file path per USI</p> <pre><code>https://dashboard.gnps2.org/downloadlink?usi={file usi}\n</code></pre> <p>Getting spectrum data from Spectrum ID</p> <pre><code>https://external.gnps2.org/gnpsspectrum?SpectrumID={Spectrum ID}\n</code></pre> <p>JSON Peak List from USI <pre><code>https://fasst.gnps2.org/search?library=gnpslibrary&amp;usi={file usi}\n</code></pre> JSON Peak List from USI (Example): <pre><code>https://fasst.gnps2.org/search?library=gnpslibrary&amp;usi=mzspec:GNPS:GNPS-LIBRARY:accession:CCMSLIB00000001547\n</code></pre></p>"},{"location":"api/#modifinder","title":"ModiFinder","text":"<p>Some functions of the ModiFinder visualizer module are accessible via APIs. For details on the parameters you can pass to these functions, refer to the GitHub repository or the documentation.</p>"},{"location":"api/#draw-molecule","title":"Draw Molecule","text":"<p><pre><code>https://modifinder.gnps2.org/api/visualizer/draw_molecule?{function argument1}={argument1}&amp;{function argument2}={value2}...{function argumentn}={argumentn}.{type}\n</code></pre> More details on the function arguments and the argument type are available on the documentation page. The type can be png or svg.</p> <p>Exampes:</p> <ul> <li> <p>https://modifinder.gnps2.org/api/visualizer/draw_molecule?mol=CCO.svg</p> </li> <li> <p>https://modifinder.gnps2.org/api/visualizer/draw_molecule?mol=CCMSLIB00010102097&amp;size=400,400&amp;highlightAtoms=0,1,5.png</p> </li> </ul>"},{"location":"api/#draw-modification","title":"Draw Modification","text":"<p>You can also draw the modification between two molecules <pre><code>https://modifinder.gnps2.org/api/visualizer/draw_modifications?{function argument1}={argument1}&amp;{function argument2}={value2}...{function argumentn}={argumentn}.{type}\n</code></pre></p> <p>Example:</p> <ul> <li>https://modifinder.gnps2.org/api/visualizer/draw_modifications?mol1=CCMSLIB00010101989&amp;mol2=CCMSLIB00010102097.png</li> </ul>"},{"location":"api/#draw-spectrum","title":"Draw Spectrum","text":"<p><pre><code>https://modifinder.gnps2.org/api/visualizer/draw_spectrum?{function argument1}={argument1}&amp;{function argument2}={value2}...{function argumentn}={argumentn}.{type}\n</code></pre> Example:</p> <ul> <li>https://modifinder.gnps2.org/api/visualizer/draw_spectrum?spectrum=CCMSLIB00010102097&amp;bar_width=1.png</li> </ul>"},{"location":"api/#draw-alignment","title":"Draw Alignment","text":"<pre><code>https://modifinder.gnps2.org/api/visualizer/draw_alignment?{function argument1}={argument1}&amp;{function argument2}={value2}...{function argumentn}={argumentn}.{type}\n</code></pre> <p>Example:</p> <ul> <li>https://modifinder.gnps2.org/api/visualizer/draw_alignment?spectrums=[%22CCMSLIB00010118942%22,%22CCMSLIB00010118185%22,%22CCMSLIB00010104042%22]&amp;matches=default&amp;ratio_to_base_peak=0.01&amp;bar_width=1.png</li> </ul>"},{"location":"chemwalker_doc/","title":"ChemWalker workflow documentation","text":"<p>Chemwalker is a tool published by R. da Silva lab to annotate features in metabolomic networks by propagating annotations on non-directly connected nodes by using MetFrag. The article is published here and the source code is available in github.  A detailed explanation of the tool is found below. </p>"},{"location":"chemwalker_doc/#quick-tutorial-of-chemwalker-workflow","title":"Quick tutorial of chemwalker workflow","text":""},{"location":"chemwalker_doc/#input","title":"Input","text":"Parameter Description Default Required Job Description Label for the ChemWalker job to identify it by the user. no GNPS task ID GNPS molecular networking task id. Identify the task id of your FBMN job in GNPS2. See the links to the jobs in GNPS and GNPS2. yes Workflow type FBMN or Classic (V2) from GNPS and FBMN from GNPS2, named GNPS2. If the GNPS server is down, the chemwalker task will not work for FBMN or Classic (V2) since it needs to retrieve the data from GNPS. Analogously with GNPS2. GNPS2 yes Component Index Index of a connected component of interest in a Molecular Network. The propagation is limited to the connected component. Zero will perform propagation inside all components. yes Ionization mode Mass spectrometry acquisition mode. Positive yes Adduct ion type Expected adduct type for the precursor ion mass. It should be consistent with the ionization mode, otherwise the workflow will fail. [M+H]+ yes PPM tolerance (ppm) Accuracy used for structure database search. The predicted neutral mass (for a given adduct selected) is compared to the exact mass of the structures provided. 15 yes Structure databases The default natural products database is the COCONUT database or in house candidate structure database. See the Structure Database section. COCONUT.psv yes <p>The fields are presented in the image. Bold fields are mandatory: </p>"},{"location":"chemwalker_doc/#links-to-task-ids","title":"Links to task ids","text":"<p>The information from the molecular network is necessary to annotate the nodes (features). For that, chemwalker needs the job id of the molecular network task. To view the task_id, check the red rectangle in the image. The task id can correspond to a GNPS2 Feature based molecular networking (FBMN), to a GNPS FBMN or a GNPS Molecular Networking v2. </p>"},{"location":"chemwalker_doc/#example-input","title":"Example Input","text":"# Information Value 1. Task description User label to identify the workflow task 2. GNPS2, FBMN, or FBMNv2 task id b6d12e1e42b64ad6b20e7d38d5a4214b 3. Workflow type (GNPS2, FBMN or V2) GNPS2 4. Component (Molecular family) index 11 5. File selection LIBRARYLOCATION/STRUCTURE/Chemwalker/COCONUT.psv"},{"location":"chemwalker_doc/#output","title":"Output","text":"# Item Description 1. Log Text area Text area with the result of the task. If there is some failure, the log will be written there. If the task failed and you want to contact the support team, please provide the output of this text area along with the job id. 2. Full results from the job Full results from the job. It can provide information to debug or to users with programming knowledge. 3. random walk structures.tsv File with the annotations over the nodes in the selected network/s. You can download to see the full fields or visit the online version. For a full analysis, the download of the file is recommended. 4. random walk structures.graphml Graphml with the annotations to visualize the nodes in Cytoscape. You can import this data file and dynamically analyze it there. <p>The different parts of the output are presented in the image: </p>"},{"location":"chemwalker_doc/#example-task","title":"Example task","text":"<p>To test the functionality of the ChemWalker workflow an Example task can be visited, and this work can be reproduced by clicking the clone button: </p> <p></p>"},{"location":"chemwalker_doc/#example-output","title":"Example output","text":"<p>The result of the task is the annotation of compounds from the chosen database according to the in-silico fragmentations calculated by MetFrag. The cluster index is the identification of the feature, the score is the associated score for the corresponding annotation for that specific feature. Results are sorted according to cluster index and score. The online results are not complete, it is recommended to download the full table. </p> <p> </p> <p>The user can download the graphml with the new nodes annotated by chem Walker, and now each node in the network contains the annotation calculated by ChemWalker. </p> <p> </p>"},{"location":"chemwalker_doc/#full-tutorial-of-chemwalker","title":"Full tutorial of ChemWalker","text":"<p>ChemWalker is a python package to propagate spectral library match identities through candidate structures provided by in silico fragmentation, using random walk.</p> <p></p> <p>Check out the package's documentation.</p>"},{"location":"chemwalker_doc/#structure-database","title":"Structure database","text":"<p>There are basically three options for database structure selection:</p> <ol> <li>The default natural products database is the COCONUT database. </li> <li>Input an in house generated database.  A standard format is required for the in house database. One can easily collect structures in the literature and format a tab separated files with SMILES strings and a character identifier of any kind, as the example database Right-click, and Save link as: </li> </ol> <p>Having an in house collection, the user has to first format the database, using the following webserver:</p> <p></p> <p>After submission for conversion the user should receive an email with the link to download a file in the following format Right-click, and Save link as:</p> <p></p>"},{"location":"chemwalker_doc/#chemwalker-visualization-in-cytoscape","title":"ChemWalker Visualization in Cytoscape","text":"<p>In a similar way as Molecular Networking uses Cytoscape to visualize the whole network, we can visualize structure prediction of entire connected component or networks using the output <code>Random walk strtuctures graphml</code> available at the results page.</p> <p>Cytoscape (we have used version &gt;= 3.4) is available for download from here. </p>"},{"location":"chemwalker_doc/#download-chemwalkers-cytoscape-files","title":"Download ChemWalker's Cytoscape files","text":"<p>To download the Cytoscape file, go back to the results page of your task:</p> <p></p> <p>After the download, remember to uncompress the file for downstream use.</p>"},{"location":"chemwalker_doc/#installing-the-chemviz-plugin","title":"Installing the ChemViz plugin","text":"<p>To visualize the structures on NAP output we need the ChemViz plugin. The easiest way to install it is using Cytoscape's App Manager, as shown below:</p> <p></p>"},{"location":"chemwalker_doc/#load-chemwalkers-cytoscape-file-and-apply-layout","title":"Load ChemWalker's Cytoscape file and apply layout","text":"<p>Load the graphml file and apply a layout to spread the nodes:</p> <p></p>"},{"location":"chemwalker_doc/#change-image-display-properties-and-paint-library-match-structure","title":"Change image display properties and paint library match structure","text":"<p>The graphml file contains some pre-set elements to aid structure display. Browsing the 'Table Panel' is possible to inspect which scoring method has structures available in the column SMILES. To use one of these columns to display the structures we have first to change the properties of ChemViz, by doing:</p> <p></p> <p>After setting the desired source column to display the structure one can just 'paint' the structure on the node:</p> <p></p>"},{"location":"chemwalker_doc/#display-the-list-of-candidates","title":"Display the list of candidates","text":"<p>The most correct structure may not be the first candidate. Therefore we can display the structures outputted from our initial parameters:</p> <p></p>"},{"location":"chemwalker_doc/#citation","title":"Citation","text":"<p>Tiago Cabral Borelli, Gabriel Santos Arini, Lu\u00eds G P Feitosa, Pieter C Dorrestein, Norberto Peporine Lopes, Ricardo R da Silva. Improving annotation propagation on molecular networks through random walks: introducing ChemWalker. Bioinformatics 2023, 39(3), btad078.</p>"},{"location":"chemwalker_doc/#page-contributors","title":"Page Contributors","text":"<p>Ming Wang</p>"},{"location":"classical/","title":"Classical Molecular Networking","text":""},{"location":"classical/#data-files-selection","title":"Data Files Selection","text":"<p>There are two ways you can select files in GNPS2 for Classical Molecular Networking. </p> <ol> <li>Selection of Files uploaded to GNPS2</li> <li>Selection of public files via USI</li> </ol>"},{"location":"classical/#selection-of-public-files-via-usi","title":"Selection of Public Files via USI","text":"<p>Universal Spectrum Identifiers are a method to reference single spectra in public repositories. Here in GNPS2, we also use the prefix to identify full files themselves. </p> <p>You can get the USI for a file using the GNPS2 Dataset Explorer. </p> <p>Once you have gotten the USIs for the set of files you want to analyze, paste it into the \"USI Files to Analyze\" field. Data will automatically be downloaded and made available for analysis. </p>"},{"location":"community/","title":"Join the GNPS2 community","text":"<p>The GNPS2 community is always welcoming suggestions and contributions. Be part of the community and contribute!</p>"},{"location":"community/#gnps-forum","title":"GNPS Forum","text":"<p>Discussions and suggestions can also take place on the GNPS/GNPS2 forum at https://groups.google.com/forum/#!forum/molecular_networking_bug_reports.</p>"},{"location":"community/#updating-the-gnps2-documentation-quick","title":"Updating the GNPS2 Documentation (Quick)","text":"<p>We'd love for the community to add, edit, and improve the documentation so it'll be even more helpful for everyone. You can even see all the contributors for each page at the bottom, so it's totally a community effort. To make things simpler, here is the step by step on how to edit the documentation. </p> <p>Make a GitHub Account </p> <p>You'll need to make a GitHub Account.</p> <p>Click Edit Button on Page You Want to Edit</p> <p></p> <p>Fork the Repository When Prompted (only the first time)</p> <p></p> <p>Make the Edits in MarkDown</p> <p></p> <p>Propose Changes</p> <p>Please describe the change you are making. </p> <p></p> <p>Create Pull Request</p> <p></p> <p>Finalize Pull Request with Description</p> <p></p>"},{"location":"community/#page-contributors","title":"Page Contributors","text":"<p>Ming Wang</p>"},{"location":"contact/","title":"Contact/Office Hours","text":""},{"location":"contact/#gnps2-contact-information","title":"GNPS2 Contact information","text":"<p>If you have any questions about how to use GNPS2 please first ask the community at the GNPS forum located here.</p>"},{"location":"contact/#gnps2-weekly-online-interactive-office-hours","title":"GNPS2 Weekly Online Interactive Office Hours","text":"<p>\ud83d\uddd3 When: Every Wednesday at 9:00 AM PST (6:00 PM CET) \ud83c\udf93 Subject: Interactive Office Hours \ud83d\udccd Zoom: Zoom Meeting \u2705 RSVP: Please RSVP Below</p> <p>IDBac Office Hours</p> <p>We also have specific IDBac office hours if you want to check that out.</p> <p>Notes</p> <p>Office Hours on 6/4/2025 will be cancelled due to ASMS. Office Hours hours have changed due to quarter change. Please make note that the schedule changes every quarter to align with Ming's teaching schedule. Approximate dates of the changes are January, March, June, and October</p> <p>The Wang Bioinformatics Lab at UC Riverside builds and maintains GNPS2. Specifically, the PI - Mingxun Wang (mingxun.wang@cs.ucr.edu ) hosts an office hours on a weekly basis for the benefit of the community. This office hours is virtual and on Zoom:</p> <p>https://ucr.zoom.us/j/98049645231</p> <p>In office hours we'll cover new and old features of GNPS2 and most importantly we'll take your personal questions about GNPS2, computational mass spectrometry, and any science you want to chat about! We'll start office hours given the time below and keep going until there are no more questions. If office hours get too busy, we will limit each question to 10 min.  </p>"},{"location":"contact/#rsvp","title":"RSVP","text":"<p>Please also take the time to RSVP that you're going to attend and what questions you may have so we know who to let in as well as what to expect and the order to address (you will not receive a confirmation from this RSVP, just show up to office hours once you add it. Further, you will not receive any followup given an RSVP except when you show up to office hours):</p> Loading\u2026"},{"location":"contact/#page-contributions","title":"Page Contributions","text":"<p>Ming Wang</p>"},{"location":"dataformats/","title":"File Formats","text":""},{"location":"dataformats/#raw-data","title":"Raw Data","text":"<p>We generally accept two formats mzML and mzXML. These are preferred with some caveats on conversion. </p> <p>MGF is accepted but its frowned upon as a raw data format as its not really standardized. </p>"},{"location":"dataformats/#msms-spectral-libraries","title":"MS/MS spectral libraries","text":"<p>We generally support libraries from GNPS, but we also note that you might want to use your own libraries. To that end you could make your own MGF file as a private library. You do miss out on other niceties within the GNPS2 ecosystem but it can be done. The format example is as follows:</p> <pre><code>BEGIN IONS\nTITLE=SOMEUNIQUEID\nPEPMASS=981.54\nCHARGE=0\nMSLEVEL=2\nSOURCE_INSTRUMENT=LC-ESI-qTof\nSEQ=*..*\nIONMODE=Positive\nNAME=3-Des-Microcystein_LR M+H\nPI=Gerwick\nDATACOLLECTOR=Jenia\nSMILES=CC(C)CC1NC(=O)C(C)NC(=O)C(=C)N(C)C(=O)CCC(NC(=O)C(C)C(NC(=O)C(CCCNC(N)=N)NC(=O)C(C)C(NC1=O)C(O)=O)\\C=C\\C(\\C)=C\\C(C)C(O)Cc1ccccc1)C(O)=O\nINCHI=N/A\nPUBMED=N/A\nSUBMITUSER=mwang87\nSPECTRUMID=SOMEUNIQUEID\nSCANS=1\n289.286377  8068.0\n295.545288  22507.0\n298.489624  3925.0\n317.324951  18742.0\n319.655945  8604.0\n324.482422  8041.0\n325.316284  9738.0\n339.789429  16145.0\n343.947021  18094.0\n347.020508  13981.0\n347.913391  6765.0\nEND IONS\n</code></pre>"},{"location":"datareanalysis/","title":"Data Reanalysis","text":"<p>One tool that enhances the abliity to reanalyze data is our publicdatadownload package. </p> <p>You can give it a set of USIs you want to download and it will find it in public repositories and give you the download.</p>"},{"location":"downloadpublicdata/","title":"Downloading public metabolomics data","text":"<p>This tutorial explains how to download public mass spectral raw data from MetaboLights, Metabolomics Workbench, or MassIVE/GNPS through GNPS tooling.</p> <p>There are three main ways to download data.</p>"},{"location":"downloadpublicdata/#download-raw-data-file-by-file-in-the-gnps2-dashboardpan-redu-metadata-dashboard","title":"Download raw data file-by-file in the GNPS2 Dashboard/Pan-ReDU Metadata Dashboard","text":""},{"location":"downloadpublicdata/#download-raw-data-file-by-file-in-the-gnps2-dataset-explorer","title":"Download raw data file-by-file in the GNPS2 Dataset Explorer","text":""},{"location":"downloadpublicdata/#download-raw-data-in-batch-through-our-public-data-downloader","title":"Download raw data in batch through our public data downloader","text":"<p>This can be done through our public data downloader, which requires just a few command line steps.</p> <p>This downloadpublicdata tool enables you to download several different types of data in different ways using MRI reference to each public file. Specifically, you are able to download:</p> <ol> <li>MRIs of open formats, e.g. mzML, mzXML, MGF</li> <li>MRIs of vendor raw data, e.g. .raw, .d, etc. while maintaining the full folder structure for formats like .d</li> <li>MRIs of vendor raw data automatically converted to the mzML open format</li> </ol>"},{"location":"downloadpublicdata/#using-downloader-steps","title":"Using Downloader Steps","text":"<ol> <li> <p>Make sure you have Python and Git installed on your system.</p> </li> <li> <p>Clone the repository through your terminal by running:</p> </li> </ol> <pre><code>git clone https://github.com/Wang-Bioinformatics-Lab/downloadpublicdata.git\n</code></pre> <ol> <li>Navigate to the directory in your terminal with:</li> </ol> <pre><code>cd downloadpublicdata\n</code></pre> <ol> <li>Install required packages with:</li> </ol> <pre><code>pip install -r requirements.txt\n</code></pre> <ol> <li>Test if it works with:</li> </ol> <pre><code>python ./bin/download_public_data_usi.py ./data/test_download.tsv ./data/ ./data/summary.tsv\n</code></pre> <ol> <li>Replace <code>./data/test_download.tsv</code> with the path to a TSV file containing the USIs you want to download. An example file can be found here. This should download the raw data into the folder <code>./data/</code>.</li> </ol> <p>Note: By default, files are converted to <code>.mzML</code> format before the download. If you wish to download without conversion, you can use the <code>--noconversion</code> flag:</p> <pre><code>python ./bin/download_public_data_usi.py ./data/test_download.tsv ./data/ ./data/summary.tsv --noconversion\n</code></pre> <p>Further details can be found in the GitHub README.</p>"},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#gnps2-file-uploads","title":"GNPS2 File Uploads","text":"<p>Q: I have a ton of data to analyze at GNPS2 but the File Uploader is slow, how do I get my data over there?</p> <p>A:</p> <p>GNPS2 has an FTP/SFTP upload portal that is meant for close collaborators to be able to upload a significant amount of data. Otherwise, since GNPS2 does not have the ability to store massive amounts of data for the broader community, we recommend deposition of the data at a public repository such as MassIVE in order to do analysis of such data at GNPS2. </p>"},{"location":"faq/#molecular-networking","title":"Molecular Networking","text":"<p>Q: My molecule of interest is not appearing in my classical molecular networking. What should I do?</p> <p>A:</p> <ol> <li>Ensure Inclusion: First, make sure that your molecule is included in the network and not filtered out by the minimum cluster size setting (the default is 2).</li> <li>Check for Neighbors: Next, check if your molecule has any neighboring connections in the network. </li> <li>Examine Singletons: To be thorough, examine the network including singletons.</li> </ol> <p>Q: How to show the singletons in a network?</p> <p>A:</p> <p>At the classical_networking_workflow or feature_based_molecular_networking_workflow task result page, click \"Visualize Full Network  w/ Singletons in Browser\" in the \"Network Visualizations\" section.</p>"},{"location":"fbmn-with-progenesisqi/","title":"Progenesis","text":""},{"location":"fbmn-with-progenesisqi/#introduction","title":"Introduction","text":"<p>The main documentation for Feature-Based Molecular Networking can be accessed here. See our article.</p> <p>Below we describe how to use Progenesis QI with the FBMN workflow on GNPS2.</p>"},{"location":"fbmn-with-progenesisqi/#using-progenesis-qi-and-the-feature-based-molecular-networking-on-gnps2","title":"Using Progenesis QI and the Feature-Based Molecular Networking on GNPS2","text":"<p>Progenesis QI is a proprietary LC-MS feature detection and alignment software developed by Nonlinear Dynamics that is compatible with Waters file format and other proprietary and open mass spectrometry format.</p> <p>Progenesis QI can perform feature detection, alignment and annotation of non-targeted LC-MS/MS data acquired either in data-dependent analysis (DDA) or MSE data independent analysis (DIA), and can also uses the ion mobility spectrometry (IMS) dimension. Feature-based molecular networking (FBMN) can be performed on any of these data types processed with Progenesis QI.</p>"},{"location":"fbmn-with-progenesisqi/#running-progenesis-qi-for-feature-based-molecular-networking-on-gnps2","title":"Running Progenesis QI for feature-based molecular networking on GNPS2","text":"<p>For more information on Progenesis QI, please refer to the official documentation at: http://www.nonlinear.com/progenesis/qi/.</p>"},{"location":"fbmn-with-progenesisqi/#1-import-and-process-the-mass-spectrometry-data-with-progenesis-qi","title":"1. Import and process the mass spectrometry data with Progenesis QI","text":"<ul> <li>In Progenesis QI (ver. 2.4, Nonlinear Dynamics), import RAW data from Waters QTof data-independent acquisition (DIA) modes such as SONAR, MSE or HDMSE. </li> <li>Processed data with Progenesis QI and export the results for GNPS2 analysis as indicated below. See the Progenesis QI LC-MS tutorial and the tutorial videos for more informations.</li> </ul>"},{"location":"fbmn-with-progenesisqi/#2-export-the-processing-results","title":"2. Export the processing results","text":"<p>In the menu, under the \u201cIdentify Compounds\u201d tab:</p> <ul> <li>Select \u201cExport Compound Measurement\u201d to export the feature quantification table (CSV file) containing compound intensity and annotation can be exported (see below).</li> <li>Select \u201cExport fragment database\u201d to the export the MS/MS spectral summary (MSP file) containing the list of representative MS/MS spectra (see below). NOTE: Do not select tags to export</li> </ul>"},{"location":"fbmn-with-progenesisqi/#running-a-feature-based-molecular-network-on-gnps2","title":"Running a feature-based molecular network on GNPS2","text":"<p>FBMN with Progenesis QI results can be performed using the GNPS2 feature_based_molecular_networking_workflow: please refer to the main FBMN documentation for more information</p>"},{"location":"fbmn/","title":"Feature-Based Molecular Networking (FBMN)","text":""},{"location":"fbmn/#introduction","title":"Introduction","text":"<p>Feature-Based Molecular Networking (FBMN) is a computational method that bridges popular mass spectrometry data processing tools for LC-MS/MS and molecular networking analysis on GNPS2. </p> <p>The main documentation for Feature-Based Molecular Networking is provided below. See the Nature Methods article here.</p> <p>The Feature-Based Molecular Networking (FBMN) workflow is available on GNPS2 here (you need to be logged in GNPS2 first). </p> <ul> <li>For programmatic access to FBMN, contact Mingxun Wang at mingxun.wang@ucr.edu.</li> </ul>"},{"location":"fbmn/#citations","title":"Citations","text":"<p>Recommended Citations</p> <p>This work builds on the efforts of our many colleagues, please make sure to cite the papers for their processing tools and the following GNPS papers</p> <p>Nothias, L.-F., Petras, D., Schmid, R. et al. Feature-based molecular networking in the GNPS analysis environment. Nat. Methods 17, 905\u2013908 (2020).</p> <p>Wang, M. et al. Sharing and community curation of mass spectrometry data with Global Natural Products Social Molecular Networking. Nat. Biotechnol. 34, 828\u2013837 (2016).</p>"},{"location":"fbmn/#mass-spectrometry-data-processing-for-the-fbmn","title":"Mass Spectrometry Data Processing for the FBMN","text":"<p>In brief, popular mass spectrometry processing programs have been adapted to export two files (feature quantification table and MS/MS spectra file) files that can be used with the Feature Based Molecular Networking (FBMN) workflow on GNPS. Alternatively, the FBMN supports the mzTab-M format that can be inputted along witht the mzML file(s). The tools supported and their main features are presented in the table below along with a step-by-step documentation to use in FBMN on GNPS:</p> Processing tool Doc. Data supported Interface Platform Code Target user MZmine Doc in preparation Non-targeted LC-MS/MS Graphical UI Any Open source Mass spectrometrists MS-DIAL Doc in preparation Non-targeted LC-MS/MS, MSE, Ion Mobility Graphical UI Windows Open source Mass spectrometrists OpenMS Doc in preparation Non-targeted LC-MS/MS Commandline Any Open source Bioinformaticians and developers XCMS Doc in preparation Non-targeted LC-MS/MS Commandline Any Open source Bioinformaticians and developers MetaboScape Doc in preparation Non-targeted LC-MS/MS, Ion Mobility Graphical UI Windows Proprietary code Mass spectrometrists Progenesis QI Documentation Non-targeted LC-MS/MS, MSE, Ion Mobility Graphical UI Windows Proprietary code Mass spectrometrists mzTab-M Doc in preparation Non-targeted LC-MS/MS Standardized format Multi-systems Open source All public <p>IMPORTANT: The software used for the LC-MS/MS data processing has to be configured and utilized as recommended by its documentation.</p>"},{"location":"fbmn/#the-fbmn-workflow-in-gnps2","title":"The FBMN Workflow in GNPS2","text":"<p>There is a dedicated Feature-Based Molecular Networking workflow on GNPS2 that can be accessed here (you need to be logged in GNPS2 first).</p>"},{"location":"fbmn/#requirement-for-the-fbmn-workflow","title":"Requirement for the FBMN workflow","text":"<p>After processing your LC-MS/MS data with the prefered software, it is possible to export the results into 2 required input files and 3 optional input files for FBMN:</p> <ol> <li>A feature table with the intensities of LC-MS ion features (TXT or CSV format).</li> <li>A MS/MS spectral summary file with a list of MS/MS spectra associated with the LC-MS ion features (.MGF file or .msp file).</li> <li>[Optional] Metadata table - format described here</li> <li>[Optional] \"Supplementary Pairs\" of additional edges - described here </li> <li>[Optional] Original mzML Files - These are the original files used for feature finding - described here</li> </ol>"},{"location":"fbmn/#upload-the-feature-table-file-the-msms-spectral-summary-file-and-the-optional-metadata-tabole-to-gnps2","title":"Upload the feature table file, the MS/MS spectral summary file and the optional Metadata tabole to GNPS2","text":"<p>Go to GNPS2 and click \u201cFile Browser\u201d on the upper right corner, and then create a folder and drag and drop the feature table file, the spectral summary file and the optional metadata file to the folder. Alteratively You can also use the upload button to choose and upload the files.</p>"},{"location":"fbmn/#launch-fbmn-workflows-on-gnps2","title":"Launch FBMN Workflows on GNPS2","text":"<p>At GNPS2 homepage click \u201cLaunch Workflows\u201d, find \u201cfeature_based_molecular_networking_workflow\u201d, then click \u201cLaunch Workflow\u201d. </p>"},{"location":"fbmn/#input-file-select","title":"Input File Select","text":"<ol> <li>Use \u201cSelect Input Inputfeatures\u201d to select the feature table file as \u201cInput inputfeatures\u201d.</li> <li>Use \u201cSelect Input Inputspectra\u201d to select the MS/MS spectral summary file  (.mgf or .MSP) as \u201cInput inputspectra\u201d.</li> <li>Use \u201cSelect Input Metadata File\u201d to select the the optional metadata file as \u201cInput Metadata File\u201d if necessary.</li> <li>Use \"Select Input Spectral Library Folder\" to select the spectral library as \"Input Spectral Library Folder\".</li> <li>Use \u201cFeature Finding Tool\u201d to select \"MZMINE, \u201cPROGENESIS\u201d or any other program that was used to generate the feature table and spectral summary files.</li> </ol>"},{"location":"fbmn/#additional-edges","title":"Additional Edges","text":"<ol> <li>Use \"Select Input Additional Supplemental Edges File(s) (Optional)\" to select the optional \"Supplemental Pairs\" file(s)</li> </ol>"},{"location":"fbmn/#raw-data-selection","title":"Raw Data Selection","text":"<ol> <li>Use \"Input Raw Data Folder (Optional)\" to select the optional \"Original mzML Files\"</li> </ol>"},{"location":"fbmn/#general-parameters","title":"General Parameters","text":"Parameter Description Default Precursor Ion Mass Tolerance (PIMT) Parameter used for spectral library search expressed in Daltons. Note that the value of this parameters should be consistent with the capabilities of the mass spectrometer and the specific instrument method used to generated the MS/MS data. Recommended Values value is \u00b1 0.02 Da for high-resolution instruments (q-TOF, q-Orbitrap) and \u00b1 2.0 Da for low-resolution instruments (ion traps, QqQ). 2.0 Fragment Ion Mass Tolerance (FIMT) Parameters used for molecular networking and MS/MS spectral library searches. This value specifies how much fragment ions can be shifted from their expected m/z values. Recommended Values value is \u00b1 0.02 Da for high-resolution instruments (q-TOF, q-Orbitrap) and \u00b1 0.5 Da for low-resolution instruments (ion traps, QqQ). 0.5"},{"location":"fbmn/#advanced-filtering-parameters","title":"Advanced Filtering Parameters","text":"Parameter Description Default Minimum Peak Intensity All fragment ions in the MS/MS spectra below this raw intensity value will be deleted. By default, the filtering is disabled. 0 Precursor Window Filter All peaks in a +/- 17 Da around precursor ion mass are deleted. Enabled by default. This removes the residual precursor ion, which is frequently observed in MS/MS spectra acquired on qTOFs. Filter Window Filter Filter out peaks that are not in the top 6 most intense peaks in a +/- 50Da window Filter"},{"location":"fbmn/#networking-parameters","title":"Networking Parameters","text":"Parameter Description Default min_cosine Minimum cosine similarity score that two MS/MS spectra should get in order to be considered as connected in the network. 0.7 min_matched_peaks Minimum number of common and shifted fragment ions that MS/MS spectra should contain in order to be considered as connected in the network. Default value is 6, but note that this parameters should be tuned depending on the molecules of interest, and the experimental conditions (such as the ionization mode and the fragmentation conditions). For example, the collision-induced fragmentation of some lipids produce only a few fragment ions. 6 networking_max_shift Maximum mass shift between the precursor m/z values of two spectra in the network 1999 (Da)"},{"location":"fbmn/#advanced-spectral-library-search-options","title":"Advanced Spectral Library Search Options","text":"Parameter Description Default Library Minimum Cosine Minimum cosine score that MS/MS spectra should get in spectral matching with MS/MS spectral libraries in order to be considered an annotation. 0.7 Library Minimum Matched Peaks Minimum number of common fragment ions that MS/MS spectra should contain in order to be considered for spectral library annotation. Default value is 6, but note that this parameters should be tuned depending on the molecules of interest, and the experimental conditions (such as the ionization mode and the fragmentation conditions). For example, the collision-induced fragmentation of some lipids produce only a few fragment ions. A lower value will allow clustering of MS/MS spectra containing less  fragment ions, however it will also induce clustering of MS/MS spectra from different molecular types to be connected in one network. A higher value will do the opposite 6 Analog Search Whether to search data for analogs to library spectra No Top-K Number of matches to report for each feature 1"},{"location":"fbmn/#advanced-extras","title":"Advanced Extras","text":"<p>\"Supplementary Pairs\" is an option to add extra edges to the resulting FBMN. It was initially implemented for the Ion Identity Networking (IIN) workflow. The IIN supports currently MZmine, XCMS-CAMERA, and MS-DIAL. However, this approach is designed to stimulate the development and testing of new workflows as the input is an edge file in a generic CSV format. An edge is described by the following table:</p> Header Description ID1 Node ID 1 matching the row IDs ID2 Node ID 2 matching the row IDs EdgeType Any string describing the type of edge Score A numerical value for the score (cannot be empty) Annotation A string annotation <p>Note that if Supplementary Pairs from other software are used, it is mandatory that the as the LC-MS feature identifier (ID) matches the \"SCANS=\" number in the MGF file.</p>"},{"location":"fbmn/#mzml-files-used-for-feature-finding","title":"mzML Files Used for Feature Finding","text":"<p>The original mzML/mzXML files that were used for feature finding can also be included. This provides a way for the workflow to link back to the original files and help people explore the data interactively. </p>"},{"location":"fileconversion/","title":"File Conversion","text":"<p>Supported Formats at GNPS2</p> <p>GNPS2 supports mzXML, mzML, and mgf formats for analysis. Our tools do NOT support mzData, xml, raw, RAW, wiff, scan, d, and cdf formats. If some of your files are in these formats, please use the following guide to convert them to open formats supported by GNPS2.</p>"},{"location":"fileconversion/#data-conversion-super-easy","title":"Data Conversion (Super Easy)","text":"<p>Drag and drop files on our server here and hit convert. </p> <p>You will receive a download of all the converted files in a zip file that is ready to be analyzed! </p>"},{"location":"fileconversion/#data-conversion-easy","title":"Data Conversion (Easy)","text":"<p>This is a complete package for Windows users to convert their vendor formats to GNPS compatible format (mzML or legacy mzXML). It is as easy as putting files into a folder and batch converting them all without any installation (well nearly so).</p> <ol> <li>Download the zip file here</li> <li>Unzip contents onto a folder on your computer (e.g. Desktop)</li> <li>Install windows libraries in \"pwizLibraries-and-Installation\" - Run appropriate program for 32-bit (32-Bit_Double-Click_To_Install.bat) or 64-bit system (64-Bit_Double-Click_To_Install.bat). To find out which type of OS you have please check here</li> <li>Put vendor formats in \"Input_Files\" not embedded in other folders</li> <li>Double click on Double-Click_To-Convert.bat - Download zip includes demo files for major vendor formats as a test.</li> <li>Wait patiently</li> <li>Check all the converted files in Output_Folder</li> <li>If there are errors, please check log.txt or read on how to convert files in a more traditional manner.</li> </ol>"},{"location":"fileconversion/#data-conversion-traditional","title":"Data Conversion (Traditional)","text":"<p>The .mzXML or .mzML formats are strongly preferred and will be discussed below.</p> Vendor Instrument Software File Format Recommended Converter Notes AB Sciex Analyst .wiff MSConvert verified Agilent MassHunter .d MSConvert verified (with issues with scan number export) Bruker DataAnalysis/Compass .d CompassXport This conversion is through the DataAnalysis software ThermoFisher Xcalibur .raw/.RAW MSConvert verified Waters MassLynx .raw MSConvert is for full scan/DDA datasets. Symphony is for other modes such as MSe/SONAR/HDMSe/HD-DDA See more informations about the procedure in this Water Technology Brief Shimadzu .lcd MSConvert <p>For problems with MSConvert, please contact the ProteoWizard developers.</p> <p>If you are a vendor and think there are better methods to convert your files to work with GNPS2, let us know by contacting us.</p>"},{"location":"fileconversion/#conversion-with-msconvert","title":"Conversion with MSConvert","text":"<p>Download and install ProteoWizard from here.</p> <p>Info</p> <p>Make sure to choose a Windows-compatible version (includes vendor reader support). You must also have .NET Framework 3.5 SP1 and 4.0 installed.</p> <p>After installation, from the Start Menu, click the ProteoWizard folder and open MSConvert.</p> <ul> <li> <p>Click Browse and select file(s) for conversion. Then click Add to add them to the MSConvert workflow.</p> </li> <li> <p>Choose an Output Directory</p> </li> <li> <p>Under Options, choose mzML (prefered) or mzXML for output format, 32-bit for binary encoding precision and uncheck Use zlib compression.</p> </li> <li> <p>Under filters, choose Peak Picking with Vendor checked, in order to centroid the data. Indicate MS-Levels 1-2. Click Add to add the filter.</p> </li> </ul> Danger <p>Make sure the PeakPicking filter is the first filter in the list (top position), otherwise the conversion will not be centroided! </p> <ul> <li> <p>Save the parameters for the next conversion. This will save you some time and prevent misconfiguration. In Presets (left bottom), click on Save Presets, and select \"Save as default for the format\".</p> </li> <li> <p>Click on Start.  Check your folder for the new .mzML/.mzXML files. Verify that these files open properly in Insilicos or TOPP View (OpenMS).</p> </li> </ul>"},{"location":"fileconversion/#page-contributors","title":"Page Contributors","text":"<p>Ming Wang</p>"},{"location":"fileupload/","title":"File Upload","text":""},{"location":"fileupload/#browser-file-uploads","title":"Browser File Uploads","text":"<p>Go ahead and login and click the \"File Browser\" in the top right. You will be able to drag and drop. However, be warned that you cannot upload files directly to the root of your user. You will need to make a new folder first. </p>"},{"location":"fileupload/#bulk-uploads","title":"Bulk Uploads","text":"<p>Bulk data uploads with sftp and ftp are available for collaborators, see the details below. </p> <p>**NOTE: This is currently in beta and not all accounts are activated on the SFTP server. **</p> <p>Additionally, if you have tons of data you want to analyze in GNPS2, we'd recommend making a public dataset at MassIVE and then utilizing USIs to select that data for analysis in GNPS2. </p>"},{"location":"fileupload/#sftp-file-uploads","title":"SFTP File Uploads","text":"<p>You can access the SFTP file upload with the following information</p> Field Value hostname sftp.gnps2.org port 443 <p>You can login with your GNPS2 username and password. </p> <p>Here is a one-liner if you like using the commandline for uploading a folder</p> <pre><code>sftp -P 443 &lt;username&gt;@sftp.gnps2.org:/ &lt;&lt;&lt; $'put -r &lt;folder name&gt;'\n</code></pre> <p>If you want to mirror a lot of data periodically, use this command:</p> <pre><code>lftp -e \"mirror --parallel=4 --include '/*.mzML' -R $local_directory $remote_directory; quit\" -u \"$remote_user,$password\" sftp://$remote_host:$remote_port\n</code></pre>"},{"location":"fileupload/#gui-recommendations","title":"GUI Recommendations","text":"<p>We recommend cyberduck or winscp as an SFTP client. </p>"},{"location":"gnpsdatasetexplorer/","title":"GNPS2 Dataset Explorer","text":"<p>The GNPS2 Dataset Explorer is a simple interface to enable users to list out and select all files from a public dataset or analysis task. </p> <p>It current supports the following data sources:</p> <ol> <li>MassIVE Public Datasets</li> <li>GNPS Public Datasets</li> <li>Metabolights Public Datasets</li> <li>Metabolomics Workbench Public Datasets</li> <li>GNPS Analysis Data Files (LC and GC)</li> <li>PRIDE Proteomics Public Datasets</li> <li>ProteomXchange Public Datasets</li> </ol>"},{"location":"gnpsdatasetexplorer/#listing-dataset-files","title":"Listing Dataset Files","text":"<p>Once you have entered an accession, a set of files will appear in the table. You may select one or more files to visualize. You can select \"Visualize Files\" below to see them in the GNPS2 Dashboard of the underlying raw data. Or you can choose to network them in GNPS2 by clicking \"Molecular Network Files at GNPS2\". </p> <p>Note</p> <p>You may select to visualize all files if you do not want to select them. It is limited to the first 50 in the table, so if you filter the table, the it will trim down this 50. </p>"},{"location":"gnpsdatasetexplorer/#metadata","title":"Metadata","text":"<p>We attempt to gather metadata from several sources for public mass spectrometry data in MassIVE/GNPS. The metadata source can be selected in the \"Metadata Source\" dropdown menu. Only metadata sources available for the current dataset is shown. </p> <ol> <li>Default (MS information from run)</li> <li>ReDU</li> <li>MassIVE Metadata Uploads</li> <li>Metabolights Study Information</li> </ol> <p>Please note that only partial ReDU metadata will be shown here. For full metadata go to the Pan-ReDU metadata selection dashboard.</p>"},{"location":"gnpsdatasetexplorer/#listing-gnps-tasks","title":"Listing GNPS Tasks","text":"<p>The Dataset Explorer will list out all the files selected in the GNPS analysis and attempts to pull in the metadata from the analysis as well. </p>"},{"location":"gnpsdatasetexplorer/#comparing-two-files-for-lcms-viewer","title":"Comparing Two Files for LCMS Viewer","text":"<p>There are two tables with identical entries right above/below one another. This enables easily to select two sets of files to visualize in the GNPS2 Dashboard. Simply put a check mark next to the files in each table you want to compare and select the \"Visualize Files\" button below. </p>"},{"location":"gnpsdatasetexplorer/#server-selection-feature","title":"Server Selection Feature","text":"<p>We are excited to introduce our new server selection to the Dataset Explorer, giving users more control over their experience. This feature allows users to choose the server location of the dashboard, providing more flexibility and improving overall performance.</p>"},{"location":"gnpsdatasetexplorer/#server-status","title":"Server status","text":"<p>Currently we are supporting two locations where users can choose from:</p> <ol> <li>UCR Riverside, America</li> <li>University of T\u00fcbingen, Germany </li> </ol> <p>Detailed server status are shown below:</p> Server Status GNPS2 - USA-UCR US Server GNPS2 - DE-Tue DE Server <p>Feel free to share about your experiences with the new server selection and help us improving it further!</p>"},{"location":"idbac-brukerstart-here/","title":"START HERE- Raw Bruker data","text":""},{"location":"idbac-brukerstart-here/#if-you-are-starting-with-raw-bruker-data-use-this-flow-chart-to-prepare-your-files-for-analysis-or-deposition","title":"If you are starting with raw Bruker data, use this flow chart to prepare your files for analysis or deposition.","text":"<p>*Click on the flow chart boxes for links to the required tools/pages.</p> flowchart TD     A[Starting with raw Bruker data] --&gt; B[Convert raw protein data to mzML via msConvert]     B --&gt; C[Download and fill out a MALDI TOF plate map]     C --&gt; D[Upload converted mzML files and plate map to GNPS2]     D --&gt; E[Run the IDBac_split_MALDI workflow]     E --&gt; F[Contribute to the IDBac database]     E --&gt; G[Analyze your data]       click B href \"https://proteowizard.sourceforge.io/\"     click C href \"https://docs.google.com/spreadsheets/d/1ihFy6lQyJtWy9fp46ahMPWk7xLp2tJ3q/edit?usp=sharing&amp;ouid=102573514213912402103&amp;rtpof=true&amp;sd=true\"     click D href \"https://gnps2.org/homepage\"     click E href \"https://gnps2.org/workflowinput?workflowname=idbac_split_maldi_workflow\"     click F href \"https://wang-bioinformatics-lab.github.io/GNPS2_Documentation/idbacdepositions/\"     click G href \"https://wang-bioinformatics-lab.github.io/GNPS2_Documentation/idbacanalyzeyourdata/\"   %% Styling     style A fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style B fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style C fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style D fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style E fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style F fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style G fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px    %% Link Styling     linkStyle 0 stroke:#ffcc33,stroke-width:3px     linkStyle 1 stroke:#ffcc33,stroke-width:3px     linkStyle 2 stroke:#ffcc33,stroke-width:3px     linkStyle 3 stroke:#ffcc33,stroke-width:3px     linkStyle 4 stroke:#ffcc33,stroke-width:3px     linkStyle 5 stroke:#ffcc33,stroke-width:3px"},{"location":"idbac-brukerstart-here/#more-resources","title":"More Resources","text":"Navigating MSConvert <p>Use the following images to convert raw Bruker data to mzML using MSConvert</p> Uploading files to the GNPS2 File Browser Accessing your converted files from the split_MALDI workflow <p>Download the converted and re-named files to your desktop (allowing for manual upload into a File Browser folder)</p>"},{"location":"idbac-request-an-account/","title":"Request an IDBac Account","text":""},{"location":"idbac-request-an-account/#idbac-account-creation","title":"IDBac Account Creation","text":"<p>To use IDBac, a GNPS2 account is required. To create an account, please contact us via email (nkrull@uic.edu). Tell us your name and institution, and please use your academic affiliated email address.</p> <p>Once you have a token, you can create an account here.</p> <p>GNPS2 is in closed beta to make sure everything is working properly and is slowly ramping up for community use. </p> <p>Thank you for your patience!</p>"},{"location":"idbac-request-an-account/#for-general-gnps2-users-please-see-the-following-link-to-request-an-access-token","title":"*For general GNPS2 users, please see the following link to request an access token:","text":"<p>GNPS2 Create an account</p>"},{"location":"idbac/","title":"IDBac Database Submission and Analysis","text":"<p>Protein Metadata Sheet</p>"},{"location":"idbac/#idbac-workflows-require-a-mzml-file-format-for-guidance-on-how-to-convert-raw-data-or-mzxml-to-mzml-see-the-tabs-to-the-left","title":"*IDBac workflows require a mzML file format. For guidance on how to convert raw data or mzXML to mzML, see the tabs to the left.","text":"<p>## 1) Upload mzML files to GNPS2.org <p>i) Select \"File Browser\" found on the GNPS2.org homepage. <p>ii) Create a new folder and upload your mzmL files, plate map and metadata sheet.</p> <p></p> <p></p>"},{"location":"idbac/#3-split-re-name-autoexecute-file","title":"3) Split re-name autoexecute file <p>This workflow will split your autoexecute data into individually labeled mzML files based on your plate map and well positions. </p> <p>i) Open the idbac_split_maldi workflow</p> <p>ii) Select your autoExecute mzML and plate map from the drop down menu.</p> <p>iii) Submit workflow.</p> <p></p>","text":""},{"location":"idbac/#4-choose-what-you-would-like-to-do-next","title":"4) Choose what you would like to do next: <p>a) IDBac Analysis: Analyze spectra within your dataset indepedently, or compare against the IDBac protein database (See \"Analysis options\" below).</p> <p>b) IDBac Protein Database Deposition: Deposit metadata and spectra of genetically verified isolates into the IDBac database.</p> <p></p>","text":""},{"location":"idbac/#a-idbac-analysis","title":"a) IDBac Analysis <p>Submit workflow: Select idbac_analysis_workflow and reference the following image for submission instructions. <p>*If you do not submit metadata during this step, you will have fewer analysis options.</p> <p></p> <p>Analysis options: Once the idbac_analysis_workflow is complete, you have the ability to analyze your data through: <p>i) Vizualize protein dendrogram: View a dendrogram of your isolates (excluding database seeds). </p> <p>ii) Visualize with Metadata: If you selected a metadata column to display, it will appear within this protein dendrogram. If you do not select a metadata column to display, a 500 server error will display on-screen should you choose this analysis.</p> <p>iii) Spectra summary: This option allows you to compare mirror plots of your spectra.</p> <p>iv) Dendrogram similarity: You may view similarity scores between your isolates based on the similarity metric you chose in the analysis workflow submission.</p> <p>v) Database Search Summary: Here you query protein spectra of your unknown isolate against our database of characterized bacterial strains (based on similairty scores).</p> <p></p>","text":""},{"location":"idbac/#b-idbac-database-deposition","title":"b) IDBac Database Deposition <p>Submit workflow: Select idbacdeposition_workflow and reference the following image for deposition instructions. <p></p> <p>View Database <p>To view your deposition, visit the IDBac Knowledgebase.</p>","text":""},{"location":"idbac/#3-analysis-options","title":"3) Analysis options: <p>Once the idbac_analysis_workflow is complete, you have the ability to analyze your data through:</p> <p>i) Interactive IDBac Analysis: Choose parameters and visually analyze your dataset. See section below for more details.</p> <p>ii) Database Search Summary: Compare protein spectra of your unknown isolate against our database of characterized bacterial strains and obtain similarity scores.</p> <p></p>","text":""},{"location":"idbac/#i-interactive-idbac-analysis","title":"i) Interactive IDBac Analysis <p>See images below for more detail</p> <p>a) If you did not include a metadata spreadsheet during the workflow submission, you may upload the file here.</p> <p>b) Choose your preferred parameters for dendrogram visualization.</p> <p>c) Select how database hits will be displayed in the dendrogram. </p> <p>d) If you would like to remove isolates from the dendrogram, you may do so here. </p> <p>e) You can choose a dendrogram cut-height and/or display dendrogram distance values for each isolate. </p> <p>f) Your dendrogram will be displayed according to the parameters set above. Note: Database strains will be labeled as 'DB'.</p> <p>g) Visualize a single spectrum or compare two spectra via a mirror plot. </p> <p>h) URL link to easily share this analysis page.</p> <p></p> <p></p> <p></p> <p></p>","text":""},{"location":"idbac/#ii-database-search-summary","title":"ii) Database Search Summary","text":""},{"location":"idbacanalysisplatform/","title":"IDBac Analysis Platform","text":"<p>Visit analysis.idbac.org for an example dataset.</p> <p> </p> <p> </p>"},{"location":"idbacanalysisplatform/#protein-dendrogram","title":"Protein Dendrogram","text":""},{"location":"idbacanalysisplatform/#plot-spectra","title":"Plot Spectra","text":""},{"location":"idbacanalysisplatform/#protein-heatmap","title":"Protein Heatmap","text":""},{"location":"idbacanalysisplatform/#small-molecule-association","title":"Small Molecule Association","text":""},{"location":"idbacanalyzeyourdata/","title":"Analyze your data","text":""},{"location":"idbacanalyzeyourdata/#work-in-progress","title":"\ud83d\udea7 Work In Progress","text":"<p>This page is under construction, thanks for your patience!</p>"},{"location":"idbacanalyzeyourdata/#analyze-your-data","title":"Analyze your data","text":"<p>This flow chart is a guide on how to submit an analysis workflow. </p> <p>Click on the flow chart boxes for links to the required tools/pages*  Protein data analysis can be conducted without a metadata sheet. Small molecule data analysis requires a metadata sheet.</p> <p>Metadata template</p> flowchart TD     A[Submit your data for analysis] --&gt; B[Download and fill out an analysis metadata sheet]     B --&gt; C[Upload your metadata and mzML files to the GNPS2 File Browser]     C --&gt; D[Open the idbac_analysis_workflow]     D --&gt; E[Select appropriate data for each file selection section]     E --&gt; F[Select preferred distance metric]     F --&gt; G[Select preferred database distance threshold]     G --&gt; H[Submit workflow]     H --&gt; I[Choose a data analysis option]     I --&gt; J[Web IDBac Analysis Platform]     I --&gt; K[Database Search Summary- see tab below]      click B href \"https://docs.google.com/spreadsheets/d/1Y7WHrFQR_SYpR_p5u_xL4BQimYorQ3-1PfAfVil3nL0/edit?gid=678327011#gid=678327011\"     click D href \"https://gnps2.org/workflowinput?workflowname=idbac_analysis_workflow\"     click J href \"https://wang-bioinformatics-lab.github.io/GNPS2_Documentation/idbacanalysisplatform/\"     %% Styling     style A fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:24px     style B fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style C fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style D fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style E fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style F fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style G fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style H fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style I fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style J fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style K fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px   %% Link Styling     linkStyle 0 stroke:#ffcc33,stroke-width:3px     linkStyle 1 stroke:#ffcc33,stroke-width:3px     linkStyle 2 stroke:#ffcc33,stroke-width:3px     linkStyle 3 stroke:#ffcc33,stroke-width:3px     linkStyle 4 stroke:#ffcc33,stroke-width:3px     linkStyle 5 stroke:#ffcc33,stroke-width:3px     linkStyle 6 stroke:#ffcc33,stroke-width:3px     linkStyle 7 stroke:#ffcc33,stroke-width:3px     linkStyle 8 stroke:#ffcc33,stroke-width:3px"},{"location":"idbacanalyzeyourdata/#more-resources","title":"More Resources","text":"QC your Data <p>Use the following images to convert raw Bruker data to mzML:</p> Metadata Instructions <p>This page can also be found in the Metadata Excel doc.</p> Navigating the idbac_analysis_workflow page <p>Use the following images to convert raw Bruker data to mzML:</p>"},{"location":"idbacdepositions/","title":"Contribute to the database","text":""},{"location":"idbacdepositions/#idbac-database-depositions","title":"IDBac Database Depositions","text":"<p>This flow chart is a guide on how to deposit genetically verified strains in the IDBac protein MS database. </p> <p>*Click on the flow chart boxes for links to the required tools/pages.</p> <p>*IDBac workflows require a mzML file format. For guidance on how to convert raw data or mzXML to mzML, see the 'Start Here' tabs to the left.</p> <p>*All database depositions must have either an accompanying accession number or 16S taxonomy assignment and sequence.</p> <p>Metadata template</p> flowchart TD     A[Contribute to the IDBac protein MS database] --&gt; B[Do you have a single mzML file per strain?]     B --&gt;|Yes| C[Download and fill out a deposition metadata sheet]     B --&gt;|No| D[Visit the 'Start Here' documentation tabs]     C --&gt; E[Upload your mzML and metadata files to the GNPS2 File Browser]     E --&gt; F[Open the IDBac deposition workflow]     F --&gt; G[Choose a task description and select your metadata and spectra mzML files]     G --&gt; H[Would you like to QC your spectra before deposition?]     H --&gt; |Yes| I[Select 'Yes' from the 'Dryrun Mode' dropdown and submit workflow]     H --&gt; |No| J[Select 'No' from the 'Dryrun Mode' dropdown and submit workflow]     J --&gt; K[View your deposition on the IDBac database web page]     I --&gt; L[Reference the 'QC your data' tab below]      click C href \"https://docs.google.com/spreadsheets/d/1yKsZ2FEw8-cWufvY8l31Ju8NTKujmEtb/edit?usp=sharing&amp;ouid=102573514213912402103&amp;rtpof=true&amp;sd=true\"     click E href \"https://gnps2.org/homepage\"     click F href \"https://gnps2.org/workflowinput?workflowname=idbacdeposition_workflow\"     click K href \"https://idbac.org/database\"    %% Styling     style A fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:24px     style B fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style C fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style D fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style E fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style F fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style G fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style H fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style I fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style J fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style K fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style L fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px   %% Link Styling     linkStyle 0 stroke:#ffcc33,stroke-width:3px     linkStyle 1 stroke:#ffcc33,stroke-width:3px     linkStyle 2 stroke:#ffcc33,stroke-width:3px     linkStyle 3 stroke:#ffcc33,stroke-width:3px     linkStyle 4 stroke:#ffcc33,stroke-width:3px     linkStyle 5 stroke:#ffcc33,stroke-width:3px     linkStyle 6 stroke:#ffcc33,stroke-width:3px     linkStyle 7 stroke:#ffcc33,stroke-width:3px     linkStyle 8 stroke:#ffcc33,stroke-width:3px     linkStyle 9 stroke:#ffcc33,stroke-width:3px     linkStyle 10 stroke:#ffcc33,stroke-width:3px"},{"location":"idbacdepositions/#more-resources","title":"More Resources","text":"QC your Data <p>Use the following images to convert raw Bruker data to mzML:</p> Metadata Instructions <p>This page can also be found in the Metadata Excel doc.</p>"},{"location":"idbacmsconvertfilemerger/","title":"1) Convert raw MALDI data to mzML via MSConvert","text":"<p>For raw data file conversion using msConvert, refer to the Data Conversion tab of the IDBac documentation. The steps are the same for all vendor file formats.</p>"},{"location":"idbacmsconvertfilemerger/#2-fill-out-the-input_filename-and-output_filename-in-the-msconvert_file_merger-spreadsheet","title":"2) Fill out the 'input_filename' and 'output_filename' in the msConvert_File_Merger spreadsheet","text":"<p>msConvert_File_Merger spreadsheet </p> <p>i) Insert the current filenames for your individual mzML files into the 'input_filename' column. It is important to keep the '.mzml' tag on the end of the filename in this column. Take care to make sure the filenames in the spreadsheet under 'input_filename' match the filenames in your data folder.</p> <p>ii) Type a new filename for replicate spectra you would like to combine into a single mzml file. You do NOT need to include the '.mzml' tag in this column. Make sure the 'output_filename' is identical for all replicate spectra you want to be merged. Otherwise the workflow will write files with different 'output_filename' entries as separate mzML files. </p> <p></p>"},{"location":"idbacmsconvertfilemerger/#3-upload-mzml-files-and-completed-msconvert_file_merger-spreadsheet-to-gnps2org","title":"3) Upload mzML files and completed msConvert_File_Merger spreadsheet to GNPS2.org","text":"<p>i) Select \"File Browser\" found on the GNPS2.org homepage.</p> <p>ii) Create a new folder and upload your converted files.</p> <p>iii) Upload your completed msConvert_File_Merger spreadsheet.</p> <p></p> <p></p>"},{"location":"idbacmsconvertfilemerger/#4-merge-spectra-for-strain-replicates-using-the-msconvert_file_merger-workflow","title":"4) Merge spectra for strain replicates using the msConvert_File_Merger workflow","text":"<p>This workflow will combine spectra from separate spots that correspond to the same bacterial strain (i.e. replicate spots). The output is a single mzML file (per strain) that contains the replicate spectra as separate scans. </p> <p>i) Open the msConvert_File_Merger workflow.</p> <p>ii) Select your mzML files and your input/output spreadsheet from the dropdown menus. </p> <p>iii) Select mzML or mzXML as your output data format. </p> <p>iV) Submit workflow.</p> <p></p>"},{"location":"idbacmsconvertfilemerger/#5-access-your-data-for-download-and-export","title":"5) Access your data for download and export","text":"<p>i) Select 'See Output Files' to access the merged mzML files in file browser.</p> <p></p>"},{"location":"idbacmzxmlconversion/","title":"Convert mzXML to mzML","text":"<p>MALDI Plate Map</p>"},{"location":"idbacmzxmlconversion/#1-upload-mzxml-files-to-gnps2org","title":"1) Upload mzXML files to GNPS2.org","text":"<p>i) Select \"File Browser\" found on the GNPS2.org homepage.</p> <p>ii) Create a new folder and upload the mzXML files that need conversion. </p> <p> </p>"},{"location":"idbacmzxmlconversion/#2-run-the-msconvert_workflow","title":"2) Run the msconvert_workflow  <p>i) Select the mzXML files that you would like to convert to mzML from the drop down menu.</p> <p>ii) Submit workflow.</p> <p>iii) The output of this workflow is individual mzML files that can be used in downstream IDBac analysis or database depositions. </p> <p></p>","text":""},{"location":"idbacmzxmlconversion/#3-choose-what-you-would-like-to-do-next","title":"3) Choose what you would like to do next: <p>a) IDBac Analysis: Analyze spectra within your dataset indepedently, or compare against the IDBac protein database (See \"IDBac Analysis\" tab).</p> <p>b) IDBac Protein Database Deposition: Deposit metadata and spectra of genetically verified isolates into the IDBac database (See \"IDBac Database Depositions\" tab).</p> <p></p>","text":""},{"location":"idbacnewnonbruker/","title":"START HERE- Raw non-Bruker data","text":""},{"location":"idbacnewnonbruker/#work-in-progress","title":"\ud83d\udea7 Work In Progress","text":"<p>This page is under construction, thanks for your patience!</p>"},{"location":"idbacnewnonbruker/#if-you-are-starting-with-raw-non-bruker-data-use-this-flow-chart-to-prepare-your-files-for-analysis-or-deposition","title":"If you are starting with raw non-Bruker data, use this flow chart to prepare your files for analysis or deposition.","text":"<p>*Click on the flow chart boxes for links to the required tools/pages.</p> flowchart TD     A[Starting with raw non-Bruker data] --&gt; B[Convert raw data to mzML via msConvert]     B --&gt; C[Download and fill out an msConvert_File_Merger spreadsheet]     C --&gt; D[Upload converted mzML files and completed msConvert_File_Merger spreadsheet to File Browser]     D --&gt; E[Merge replicate files using the msConvert_File_Merger workflow]     E --&gt; F[Contribute to the IDBac database]     E --&gt; G[Run an analysis workflow]       click B href \"https://proteowizard.sourceforge.io/\"     click C href \"https://docs.google.com/spreadsheets/d/1o5K4SavD14K-LqhSeWkt4h20MTrAUpkXsaFRYqNdRvY/edit?gid=508446939#gid=508446939\"     click D href \"https://gnps2.org/homepage\"     click E href \"https://gnps2.org/workflowinput?workflowname=msConvert_File_Merger\"     click F href \"https://wang-bioinformatics-lab.github.io/GNPS2_Documentation/idbacdepositions/\"     click G href \"https://wang-bioinformatics-lab.github.io/GNPS2_Documentation/idbacsumbmitdata/\"   %% Styling     style A fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style B fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style C fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style D fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style E fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style F fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px     style G fill:#FFFFFF,stroke:#000000,stroke-width:2px,font-size:18px   %% Link Styling     linkStyle 0 stroke:#ffcc33,stroke-width:3px     linkStyle 1 stroke:#ffcc33,stroke-width:3px     linkStyle 2 stroke:#ffcc33,stroke-width:3px     linkStyle 3 stroke:#ffcc33,stroke-width:3px     linkStyle 4 stroke:#ffcc33,stroke-width:3px     linkStyle 5 stroke:#ffcc33,stroke-width:3px"},{"location":"idbacnewnonbruker/#more-resources","title":"More Resources","text":"Instructions for filling out the msConvert_File_Merger spreadsheet   i) Insert the current filenames for your individual mzML files into the 'input_filename' column. It is important to keep the '.mzml' tag on the end of the filename in this column. Take care to make sure the filenames in the spreadsheet under 'input_filename' match the filenames in your data folder.  ii) Type a new filename for replicate spectra you would like to combine into a single mzml file. You do NOT need to include the '.mzml' tag in this column. Make sure the 'output_filename' is identical for all replicate spectra you want to be merged. Otherwise the workflow will write files with different 'output_filename' entries as separate mzML files.  Uploading files to the GNPS2 File Browser Navigating the msConvert_File_Merger workflow <p>This workflow will combine spectra from separate spots that correspond to the same bacterial strain (i.e. replicate spots). The output is a single mzML file (per strain) that contains the replicate spectra as separate scans.</p>   i) Open the msConvert_File_Merger workflow.  ii) Select your mzML files and your input/output spreadsheet from the dropdown menus.    iii) Select mzML or mzXML as your output data format.  iV) Submit workflow."},{"location":"idbacofficehours/","title":"Office Hours","text":""},{"location":"idbacofficehours/#weekly-office-hours","title":"Weekly Office Hours","text":"<p>Office hours will be hosted by Nyssa Krull (nkrull@uic.edu) via Zoom every Friday at 10:30am CST. </p> <p>These sessions provide an opportunity to recieve hands-on support with IDBac workflows, ask questions or discuss analysis features offered on the web platform.  </p> <p>To RSVP to an upcoming session (and gain access to the Zoom meeting), please fill out the Google form below.  </p> <p>***For general GNPS2 users, please see the GNPS2 office hours form linked here</p> Loading\u2026"},{"location":"idbacrawconversion/","title":"1) Convert raw Bruker data to mzML via MSConvert.","text":"<p>MALDI Plate Map</p>"},{"location":"idbacrawconversion/#open-msconvert-and-proceed-to-the-following-steps","title":"Open MSConvert and proceed to the following steps.","text":"<p>i) Select your Bruker FID file(s) by clicking 'Browse'.</p> <p>ii) Click 'Add' to submit your file to the conversion cue.</p> <p>iii) Select where you would like your file to be saved under \"Output Directory\".</p> <p>iv) Ensure mzML is selected under 'Options/Output format'.</p> <p>v) When the previous steps are completed, click 'Start'.</p> <p>vi) The output of this conversion will be a single autoexecute mzML for the entire plate or single mzML files for each well. These files will be re-named and replicates will be merged within the \"Idbac_split_maldi_workflow\" section below.</p> <p></p> <p></p> <p></p>"},{"location":"idbacrawconversion/#2-upload-mzml-files-to-gnps2org","title":"2) Upload mzML files to GNPS2.org","text":"<p>i) Select \"File Browser\" found on the GNPS2.org homepage.</p> <p>ii) Create a new folder and upload your converted files.</p> <p></p> <p></p>"},{"location":"idbacrawconversion/#3-split-re-name-autoexecute-file","title":"3) Split/ re-name autoexecute file","text":"<p>For Autoexecute mzML: This workflow will split your autoexecute data into individually labeled mzML files based on your plate map and well positions.</p> <p>For manual collection mzML: This workflow will re-name your mzML files based on your plate map and well positions.</p> <p>i) Open the idbac_split_maldi workflow</p> <p>ii) Select your autoExecute mzML and plate map from the drop down menu.</p> <p>iii) Submit workflow.</p> <p></p>"},{"location":"idbacrawconversion/#4-choose-what-you-would-like-to-do-next","title":"4) Choose what you would like to do next: <p>a) IDBac Analysis: Analyze spectra within your dataset indepedently, or compare against the IDBac protein database (See \"IDBac analysis\" tab).</p> <p>b) IDBac Protein Database Deposition: Deposit metadata and spectra of genetically verified isolates into the IDBac database (See \"IDBac Depositions\" tab).</p> <p></p>","text":""},{"location":"libraries/","title":"Using Spectral Libraries in GNPS2","text":""},{"location":"libraries/#gnps-spectral-libraries","title":"GNPS Spectral Libraries","text":"<p>MS/MS spectral libraries from GNPS, Massbank, MONA, and other sources are available for spectral matching in GNPS2.</p>"},{"location":"libraries/#propogated-msms-spectral-libraries","title":"Propogated MS/MS Spectral Libraries","text":"<p>This section contains propagated spectral libraries that inherently are less confident but this provides an avenue to give more identifications.</p>"},{"location":"libraries/#candidate-bile-acid-isomer-spectral-library","title":"Candidate bile acid isomer spectral library","text":"<p>The bile acid MS/MS spectral library consists of 21,549 spectra representing modifications to the bile acid steroid core. The GNPS-BILE-ACID-MODIFICATIONS library will not be added as a default library and will need to be added as an additional libraries for spectral matching while analyzing data as a molecular network.</p> <ol> <li>Click on the \"Select Input Spectral Library Folder\" to open the new tab where you can select the bile acid modification library. </li> <li>Click on \"Library\" to dispaly all the propagated libraries.</li> <li>From this list, click on GNPS-BILE-ACID-MODIFICATIONS library to select it. </li> <li>Click on the \"Add Selected File to Input Spectral Library Folder\" to add the library for spectral matching.</li> <li>Verify that the library now appears in the \"File Selection - Input Spectral Library Folder\" in the main workkflow launch page.</li> <li>You can then fill other parameters for the GNPS2 job and submit your analyses. </li> </ol> <p></p>"},{"location":"logo/","title":"Logos","text":"<p>Feel free to use any of the following logos for your presentations. The following logos are licensed as CC BY.</p> <p></p>"},{"location":"logo/#gnps2","title":"GNPS2","text":""},{"location":"logo/#microbemasst","title":"microbeMASST","text":""},{"location":"masst/","title":"Mass Spectrometry Search Tool","text":"<p>We have a new implementation of the MASST tool in GNPS2 that is significantly accelerated. </p> <p>Below are the databases and their descriptions:</p> Index Name Description Status metabolomicspanrepo_index_latest Latest metabolomics data Current gnpslibrary_index Latest GNPS library metabolomics data Current gnpsdata_index Original GNPS data indexing for metabolomics data 2022 gnpsdata_index_11_25_23 Rebuilding of index for GNPS metabolomics data for plantmasst Nov 25 2023 massivekb_index Proteomics library massivekb index 2022 massivedata_index Proteomics raw data index 2022"},{"location":"masst/#interacting-programmatically","title":"Interacting Programmatically","text":"<p>Checkout the API in the GNPSDatapackage for API access here.</p>"},{"location":"masst/#commandline-access","title":"Commandline Access","text":"<p>Checkout the commandline tool here.</p>"},{"location":"masst/#gnps2-workflow","title":"GNPS2 Workflow","text":"<p>Checkout the GNPS2 Workflow here. </p>"},{"location":"metadata/","title":"Metadata","text":""},{"location":"metadata/#summary","title":"Summary","text":"<p>The metadata file used in GNPS2 describes the properties of a file/sample (e.g. sample type, year of analysis, and collection method). Metadata adhering to the accepted formatting for each tool enhances data analysis and visualization options. We strongly encourage you to prepare metadata files in advance and upload to the supplementary file folder in the corresponding MassIVE dataset. However, we understand that all of this information might not be available, so it is a suggest starting point. </p>"},{"location":"metadata/#metadata-formats","title":"Metadata Formats","text":"<p>There are two metadata formats we accept for the majority of GNPS2 workflows:</p> <ol> <li>tab separated tsv file</li> <li>Google Sheets shared link</li> </ol> <p>Google Sheets Supported Workflows</p> <ul> <li>Classical Molecular Networking is being reworked but not supported currently</li> <li>FBMN is being reworked but not supported currently</li> </ul>"},{"location":"metadata/#redu-metadata","title":"ReDU Metadata","text":"<p>The recommended starting point for both of these metadata is  ReDU Sample Information Template (additional documentation can be found here). Users can add an unlimited amount of additional columns to the ReDU Sample Information Template. To add additional columns that are recognized by GNPS2 workflows, you can prefix the column header with ATTRIBUTE_ (e.g. ATTRIBUTE_Organism). There are specific instructions on required columns and formatting detailed for GNPS2 tools below.</p> <p>Note</p> <p>This standard metadata format works for the following GNPS2 tools</p> <ol> <li>Classical Molecular Networking</li> <li>Feature Based Molecular Networking</li> <li>GC Molecular Networking</li> </ol> <p>Metadata file used must be a tab-delimited text file. A .tsv can be downloaded from the ReDU Sample Information Template. Users that create a metadata file without using the ReDU Sample Information Template using a text editor (e.g. Microsoft Excel, Notepad++ for Windows, gedit for Linux, TextWrangler for Mac OS) should save as a .txt (tab-delimited). Xlsx is accepted in GNPS2. </p> <p>Warning</p> <p>rich text (rtf) are not supported.</p>"},{"location":"metadata/#barebones-metadata","title":"Barebones Metadata","text":"<p>Starting from scratch, you can simply list the filenames for your mass spectrometry files and extra columns describing each file. </p> <p>Here is an example file without the ReDU Sample Information template in Google Sheets and as a tsv download if you Right-click, and Save link as to download. A text editor can be used to edit it as desired. </p> <p>Formatting metadata</p> <p>The only required columns in the metadata is \"filename\" and the file names should match those uploaded to GNPS2 and selected for analysis.      Capitalization matters.</p> <p>Formatting metadata</p> <p>To add additional columns that are recognized by GNPS2 workflows, you can prefix the column header with ATTRIBUTE_ (e.g. ATTRIBUTE_Organism). Columns without the ATTRIBUTE_ prefix will be ignored. </p>"},{"location":"metadata/#google-sheets-metadata","title":"Google Sheets Metadata","text":"<p>Using metadata in Google Sheets is a relatively new feature and we warn there might be some bumps in the road. You can find the a barebones example here. </p> <p>In order to use Google Sheets as your source of metadata you will need to accomplish the following steps. </p> Make sure you metadata is the first sheet of your Google Sheets <p></p> Share metadata so that others can view simply by having the link <p> </p>"},{"location":"metadata/#requirements-specific-to-molecular-networking","title":"Requirements Specific to Molecular Networking","text":"<p>The use of a metadata file is an alternative way to assign groups when selecting data input files within the workflow of GNPS2. The current version of molecular networking allows to use the metadata table as an input. </p> <p>Tip</p> <p>Indicate which metadata columns should be considered in analysis by opening the file in a text editor and adding             \"ATTRIBUTE_\" to the header of the column.</p> <ul> <li>Save the file (must be tab-delimited text file)</li> <li>Users must upload their data file</li> <li>Users must select the metadata file and place it in the \"Metadata File\" folder</li> </ul>"},{"location":"metadata/#page-contributions","title":"Page Contributions","text":""},{"location":"mmsa/","title":"Multiple Spectrum Alignment","text":""},{"location":"mmsa/#multiple-mass-spectral-alignment","title":"Multiple Mass Spectral Alignment","text":"<p>MMSA is an interactive web-based tool that improves the interpretability of molecular networks by visualizing the detailed spectral alignment information of a molecular network component. It identifies shared fragment peaks (peak sets) across spectra, providing insights into the structural relationships within molecular families. MMSA\u2019s interface allows users to explore and analyze the global alignment of molecular networks, enabling deeper insights into molecular relationships.</p> <p>Access the tool here.</p> <p>If you have an existing peak sets file, you can directly access the visualization tool here. </p>"},{"location":"mmsa/#mmsa-web-interface-input-options","title":"MMSA Web Interface Input Options","text":""},{"location":"mmsa/#task-id-and-component-number","title":"Task id and component number","text":"<p>Enter a GNPS2 task ID and component number to visualize alignments for a specific molecular network.</p>"},{"location":"mmsa/#usi-input","title":"USI input","text":"<p>Input line-separated Universal Spectrum Identifiers (USIs) to define a custom molecular network. </p>"},{"location":"mmsa/#mmsa-output","title":"MMSA Output","text":""},{"location":"mmsa/#visualizing-the-spectral-alignment","title":"Visualizing the Spectral Alignment","text":"<p>After providing input, click the \u201cProcess and Save JSON\u201d button to calculate alignments. Once processed, click \u201cView Alignment\u201d to display the interactive visualization.</p>"},{"location":"mmsa/#customizations","title":"Customizations","text":"<p>Users can specify the x-axis and y-axis limits to zoom in and focus on peaks of interest. The order of spectra displayed in the alignment can also be customized based on spectrum scan numbers. Note that changing the order does not affect the calculated spectral alignment.</p>"},{"location":"mmsa/#peak-sets","title":"Peak Sets","text":"<p>The default display is the top 3 largest peak sets highlighted in red, green, and blue.</p>"},{"location":"mmsa/#highlighted-peak-sets","title":"Highlighted Peak Sets","text":"<p>Click on any peak to view the peaks that are in its set and the alignment information across spectra, including scan number, peak index, precursor m/z, peak m/z, and intensity.</p>"},{"location":"mmsa/#source-code","title":"Source Code","text":"<p>View the source code here. </p>"},{"location":"modifinder-web/","title":"GNPS2 Interactive Web Interface","text":"<p>The ModiFinder interactive platform offers a dynamic environment for predicting modifications between an unknown compound and its known analog, along with intuitive tools for visualizing molecular structures and spectra.</p>"},{"location":"modifinder-web/#predicting-the-modification-site","title":"Predicting the Modification Site","text":"<p>Head to ModiFinder Interactive Web Interface, and use the information for your target compound and its known analog to generate the result.</p>"},{"location":"modifinder-web/#providing-the-input","title":"Providing the Input","text":"<ol> <li> <p>Pass the information for the known analog to the known compound section of the input, the inputs are:</p> <ul> <li>USI for the known Compound</li> <li>Smiles for the known Commpound</li> <li>Helper ID's if available</li> </ul> </li> <li> <p>Pass the Information for the unknown Compound</p> <ul> <li>USI for the unknown target compound</li> <li>Smiles of the unknown (optional, just for evaluation)</li> </ul> </li> <li> <p>Set the Adduct</p> </li> <li>set the ppm tolerance</li> <li>set the base peak filter ratio</li> </ol> <p></p> <p>Universal Spectrum Identifiers (USI): The Universal Spectrum Identifiers(USI) for both known and unknown compounds should be provided as they encompass the peak information used in the alignment step.</p> <p>SMILES: ModiFinder is designed to accept molecular structures in SMILES notation. Providing the SMILES for the unknown compound is optional and is used to generate additional results that are particularly useful for evaluating and visualizing ModiFinder's performance with compounds whose structures are already known.</p> <p>ppm: This input determines the error tolerance of ModiFinder in ppm. This error tolerance is used both in the alignment step and when annotating the peaks with substructures.</p> <p>base peak filter ratio: Any peak less than the provided ratio of the base peak will be removed as a cleaning mechanism to reduce the effect of noise.</p> <p>Adduct: This input determines the Adduct used.</p> <p>** Note: There are examples provided in the examples tab, you can select any example and click on the update button to see the result.</p>"},{"location":"modifinder-web/#predicted-output","title":"Predicted Output","text":"<p>Stats Table: This table contains general information about the pair, detailing aspects like the mass difference and the count of both total and shifted peaks observed in the alignment. In the case that SMILES2 is provided, an evaluation score is also provided. This evaluation score evaluates the ModiFinder performance against ground truth.</p> <p>Prediction: This image shows a heatmap representation of the structure, where atoms with a higher likelihood of being the modification site are highlighted in shades of red, while those less likely to be modified appear in cooler blue tones.</p> <p>Modification Highlight: If SMILES2 is provided, an image indicating the true modification and the modification site is displayed.</p> <p>Peaks: This visualization displays the alignment of peaks, with the peaks of the known compound positioned at the top and those of the modified compound at the bottom. Peaks that are both matched and shifted are indicated in red, while matched but unshifted peaks are highlighted in blue. Peaks that do not have a match are represented in gray. Clicking on a matched and shifted peak will highlight that peak and its corresponding match.</p>"},{"location":"modifinder-web/#refinement-of-msms-substructure-annotation","title":"Refinement of MS/MS substructure annotation","text":"<p>By selecting a peak associated with the known compound, all the potential substructures assigned to that peak by ModiFinder will be shown. Users have the ability to manually filter these substructures, incorporating specialist domain knowledge into the filtering process.</p>"},{"location":"modifinder-web/#example-on-how-to-use-modifinder","title":"Example on how to use ModiFinder","text":"<ol> <li>Select the <code>Naphthomycin B</code> and <code>Naphthomycin A</code> example provided under the Examples tab </li> <li>You can see the input section is automatically filled with the necassary information such as the USIs, SMILES, and adduct. </li> <li>Click on Update to run ModiFinder and get the result </li> <li>You can see the Prediction and the possible formula for the modification. In this example, since the SMILES for the unknown is provided, the Modification Highlight is also available highlighting the true modification site. </li> <li>you can change the ppm tolerance and see how the prediction changes </li> <li>You can also refine the calculated annotations for each peak  </li> <li>updated result after manual alignment. </li> </ol>"},{"location":"modifinder-web/#modifinder-on-private-data","title":"ModiFinder on Private Data","text":"<p>You need to first generate a USI for your data: * Use https://tinymass.gnps2.org/ to upload your known compound spectrum and get a USI (This does not add your data to the public libraries) * Do the same thing for your unknown compound\u2019s spectrum * use the ModiFinder as described before</p>"},{"location":"modifinder-web/#visualizer","title":"Visualizer","text":"<p>The ModiFinder Interactive website also provides tools to visualize molecular structures and spectra, including the modifications between molecules or the alignment between two spectra.</p> <ol> <li> <p>Molecule Visualizer: You can use SMILES, INCHI, or spectrum id to draw a molecule </p> </li> <li> <p>Modification Visualizer: </p> </li> <li> <p>Spectrum Visualizer: </p> </li> <li> <p>Alignment Visualizer: </p> </li> </ol>"},{"location":"modifinder-web/#api","title":"API","text":"<p>These visualizer functions are also available as API</p>"},{"location":"modifinder-workflow/","title":"High-Throughput Workflow","text":"<p>The code for the nextflow workflow is available on GitHub. if you need to customize it or run on private data. It is also available as a workflow on GNPS with linkouts to the web interface and other GNPS tools. This can be accessed here. There are two distinct ways to use this workflow</p> <ol> <li>Analog Library Search + ModiFinder</li> <li>Pre-determined analogs with a csv input (Matched Mode)</li> </ol>"},{"location":"modifinder-workflow/#analog-library-search-with-modifinder","title":"Analog Library Search with ModiFinder","text":"<p>This mode begins with an Analog Library Search, which uses the same input format as the Library Search workflow. The search identifies potential matches. The matched results are then processed by ModiFinder, which predicts the location of modifications for each compound pair.</p>"},{"location":"modifinder-workflow/#example","title":"Example","text":"<ol> <li> <p>Log In to GNPS and Lunch a workflow </p> </li> <li> <p>Lunch ModiFinder Workflow </p> </li> <li> <p>Set the name for your library and select your input file for the library search </p> </li> <li> <p>For This example, you can use one of our predefined examples at <code>Datasets &gt; Workshop &gt; selected.mgf</code> </p> </li> <li> <p>Choose the library to search against, for this example you can use the predefined file at <code>Datasets &gt; Workshop &gt; rest.mgf</code> </p> </li> <li> <p>Make sure to enable the analog library search (if the option is available) and submid the workflow. You can also customize other variables. </p> </li> <li> <p>Once the status of your task is done, check the modifinder result </p> </li> <li> <p>You can sort the result base on the prediction confidance </p> </li> <li> <p>You can use the provided prediction image, or view the result on ModiFinder web </p> </li> </ol>"},{"location":"modifinder-workflow/#matched-mode","title":"Matched Mode","text":"<p>The input for this mode should be a CSV file containing the following columns:</p> <ul> <li>USI1: The USI (Unique Structure Identifier) of the known compound.</li> <li>USI2: The USI of the unknown compound.</li> <li>SMILES1: The structural information of the known compound, represented in SMILES format.</li> <li>ADDUCT (Optional): The adduct information for the known scan is determined as follows: If the scan corresponds to a library spectrum, the adduct details are retrieved from the library. If the scan is not a library spectrum and an adduct column is present, the data from that column is used. If the column is absent, <code>[M+H]1+</code> is used as the default adduct. supported_adducts are: [<code>[M+H]1+</code>, <code>[M-H]1-</code>, <code>[M+Na]1+</code>, <code>[M+NH4]1+</code>, <code>[M+K]1+</code>, <code>[M+Cl]1-</code>, <code>[M+Br]1-</code>].</li> </ul> <p>By default, these column names are \"USI1\", \"USI2\", and \"SMILES1\". However, you can customize these settings on the Workflow Launcher page. For each pair (row) in the CSV file, ModiFinder will predict the modification site from the known compound to its analog.</p> <p>Here is an example for the input CSV file: </p>"},{"location":"modifinder/","title":"ModiFinder","text":"<p>ModiFinder is a tool for site localization of structural modifications using MS/MS data. There are several ways to use ModiFinder:</p>"},{"location":"modifinder/#how-to-use","title":"How to Use","text":"<ol> <li>Interactive Web Interface: GNPS2 Interface, Tutorial, GitHub</li> <li>High-Throughput Workflow: GNPS2 Interface, Tutorial, GitHub</li> <li>Python Package Documentation, GitHub</li> </ol>"},{"location":"modifinder/#citation","title":"Citation","text":"<p> ModiFinder: Tandem Mass Spectral Alignment Enables Structural Modification Site Localization</p> <p>Mohammad Reza Zare Shahneh, Michael Strobel, Giovanni Andrea Vitale, Christian Geibel, Yasin El Abiead, Neha Garg, Berenike Wagner, Karl Forchhammer, Allegra Aron, Vanessa V Phelan, Daniel Petras, and Mingxun Wang Journal of the American Society for Mass Spectrometry <p>DOI: 10.1021/jasms.4c00061, PMID: 38830143 <pre><code>@article{doi:10.1021/jasms.4c00061,\nauthor = {Shahneh, Mohammad Reza Zare and Strobel, Michael and Vitale, Giovanni Andrea and Geibel, Christian and Abiead, Yasin El and Garg, Neha and Wagner, Berenike and Forchhammer, Karl and Aron, Allegra and Phelan, Vanessa V and Petras, Daniel and Wang, Mingxun},\ntitle = {ModiFinder: Tandem Mass Spectral Alignment Enables Structural Modification Site Localization},\njournal = {Journal of the American Society for Mass Spectrometry},\nvolume = {0},\nnumber = {0},\npages = {null},\nyear = {0},\ndoi = {10.1021/jasms.4c00061},\n    note ={PMID: 38830143},\n}\n</code></pre>"},{"location":"modifinder/#modifinder-theory","title":"ModiFinder Theory","text":"<p>ModiFinder is developed to focus on finding the modification site between an unknown compound and its known analog.</p> <p></p> <p>ModiFinder leverages the principle that minor structural changes in a molecule cause predictable shifts in fragment peaks. If a fragment from an unmodified molecule incorporates a modification, the mass difference between corresponding peaks reflects the modification's mass. </p> <p></p> <p>By combining combinatorial fragmentation with peak alignment, ModiFinder effectively scores and localizes these modifications, providing an automated solution for structural analysis.</p> <p></p>"},{"location":"ms2query_doc/","title":"MS2Query workflow documentation","text":"<p>MS2Query is a tool published by N. De Jonge et al. for annotating MS2 spectra, by finding the best match in mass spectral libraries. What makes MS2Query unique is that it will also return analogues if no good exact match is available. An analgoue is a metabolite that is chemically very similar to your metabolite, but can have some modifications. Analogues can be a great starting point for annotation, or can help you to prioritize metabolites/spectra for further analysis.  Including analogues increases the number of spectra for which you get some results by a lot, thereby making it possible to learn more from your data!</p> <p>MS2Query gives more results and more reliable predictions compared to previous methods for library matching, like (modified) cosine score or MS2Deepscore.  MS2Query uses previously developed machine learning algorithms (MS2Deepscore and Spec2Vec) to predict chemical similarity between your spectra and library spectra.  MS2Query is able to improve the reliability of the predicitons a lot by not directly picking the highest predicted similarity, but looking at many predictions for similar library metabolites first, to make sure the potential match is not a false positive.  More details about how this was implemented and the benchmarking results can be found in: https://www.nature.com/articles/s41467-023-37446-4 Please cite this article as well if you use MS2Query. </p> <p>The code of MS2Query is fully open source and can be found on https://github.com/iomega/ms2query  Here you can also read how you can easily run MS2Query locally from the command line. </p>"},{"location":"ms2query_doc/#quick-tutorial-of-ms2query-workflow","title":"Quick tutorial of MS2Query workflow","text":""},{"location":"ms2query_doc/#input","title":"Input","text":"Parameter Description Default Required Job Description Label for the MS2Query job to identify it by the user. no Spectra files Provide a file with ms/ms spectra. Allowed formats are mzML, json, mgf, msp, mzxml or usi. Those files should have been uploaded to GNPS2 See file upload documentation. yes Ionization mode Mass spectrometry acquisition mode. Positive yes Library models MS2Query uses a Random Forest Model to rank the highest scores in similarity spectra. This The users can use their own models. If the user chooses negative ionization mode, change the model to shared/ms2query/negativeim_model. To train your own models, check the github documentation. positiveim_model yes Additional metadata columns from the experimental data The columns will be added to the output file with their corresponding values. The name should match the name on the spectra file. It is case sensitive. retention_time feature_id no <p>The fields are presented in the image. Bold fields are mandatory: </p>"},{"location":"ms2query_doc/#example-input","title":"Example Input","text":"# Information Value 1. Task description User label to identify the workflow task 2. Spectra Files USERUPLOAD/alberto/ms2query/dummy_spectra.mgf 3. Ionization mode Positive 4. Library models USERUPLOAD/shared/ms2query/positiveim_model 5. Additional metadata columns retention_time feature_id"},{"location":"ms2query_doc/#output","title":"Output","text":"# Item Description 1. Log Text area Text area with the result of the task. If there is some failure, the log will be written there. If the task failed and you want to contact the support team, please provide the output of this text area along with the job id. 2. Full results from the job Full results from the job. It can provide information to debug or to users with programming knowledge. 3. MS2Query results.zip Zip file containing the csv file with the annotations. <p>The different parts of the output are presented in the image: </p>"},{"location":"ms2query_doc/#example-task","title":"Example task","text":"<p>To test the functionality of the MS2Query workflow an Example task can be visited, and this work can be reproduced by clicking the clone button: </p> <p></p>"},{"location":"ms2query_doc/#example-output","title":"Example output","text":"<p>The result of the task is the annotation of features present in the MS/MS spectra file. MS2Query assigns a identifier for each spectra annotated, their corresnponding ms2query_model_prediction_score, the delta m/z of the precursor mass, the representation of the structure (InChI Key and SMILES, the metadata columns added by the user and the corresponding class )</p> <p> </p>"},{"location":"ms2query_doc/#interpretation-results","title":"Interpretation results","text":"<p>As output a csv file is returned. For each of your input spectra MS2Query predicts a library match. It is important to check the ms2query_model_prediction column. This column contains a score, which indicates the likelihood that the found match is a good match. This score ranges between 0 and 1, the closer this score is to 1 the more likely that it is a good match/analogue. It is important to use this score to select only the reliable hits, since a prediction is given for each spectrum, regardless of the ms2query score. There is no strict minimum for this score, but the higher the MS2Query model prediction the more likely it is a good match/analogue. It will depend on your research goal, what a good threshold is. If a high recall is important you might want a low threshold and if a high reliability is more important you might want a high threshold. To give a general indication, a score &gt; 0,7 has many good analogues and exact matches. In the range of 0.6-0.7, the results can still be useful, but should be analysed with more caution and results below 0.6 can often best be discarded. </p> <p>MS2Query does not need two different workflows for searching for analogues and searching for exact matches, it automatically selects the most likely library spectra. If it is important to separate potential exact matches from potential analogues for your research question, the column with the precursor mz difference can be used to separate these results, since exact matches should have no precursor mz difference. The columns completely to the right are estimated molecular classes based on the molecular structure of the predicted library molecule, these columns can be used to get a quick overview of the kind of compounds that were found. </p>"},{"location":"ms2query_doc/#citation","title":"Citation","text":"<p>Niek F. de Jonge, Joris J. R. Louwen, Elena Chekmeneva, Stephane Camuzeaux, Femke J. Vermeir, Robert S. Jansen, Florian Huber, Justin J. J. van der Hooft. MS2Query: reliable and scalable MS2 mass spectra-based analogue search. Nature Communications 2023, 14: 1752</p>"},{"location":"ms2query_doc/#page-contributors","title":"Page Contributors","text":"<p>Ming Wang</p>"},{"location":"mshub-gc_doc/","title":"MSHub-GC Workflow Documentation","text":"<p>MSHub-GC is a workflow designed for the systematic processing of raw Gas Chromatography-Mass Spectrometry data. The tool consists in a Wide Spectral Alignment and a subsequent deconvolution, enhancing compound identification accuracy.</p>"},{"location":"mshub-gc_doc/#brief-tutorial","title":"Brief tutorial","text":""},{"location":"mshub-gc_doc/#input","title":"Input","text":"Parameter Description Default Required Input Spectra Folder Folder with mass-spectrometry data. The files should have previously been uploaded to GNPS2 yes Time unit Unit associated with the spectrum or chromatogram sec yes <p>The inputs are represented in the image:</p> <p></p>"},{"location":"mshub-gc_doc/#example-input","title":"Example input","text":"Information Value 1. Job description Name given by user to identify task 2. File Selection USERUPLOAD/alberto/mshub-gc 3. Time unit MIN"},{"location":"mshub-gc_doc/#output","title":"Output","text":"Item Description 1. Log Text area Text area with the result of the task. If there is some failure, the log will be written there. If the task failed and you want to contact the support team, please provide the output of this text area along with the job id. 2. Full results from the job Full results from the job. It can provide information to debug or to users with programming knowledge. 3. Quantification table Table containing the quantitative information of each compound. Shows ID and retention time (RT). 4. Cluster summary Table containing information about clusters in the analysis. Shows cluster index, mean retention time (RTMean), balance score and base peak. 5. Deconvolved GCMS file Resulting data from a deconvolution process of the original data. <p>The different outputs are represented in the following image:  </p>"},{"location":"mshub-gc_doc/#example-task","title":"Example task","text":""},{"location":"mshub-gc_doc/#example-outputs","title":"Example outputs","text":"<p>To test the functionality of the mshub workflow an example task can be visited, and can be reproduced by clicking the clone button:</p> <p></p>"},{"location":"mshub-gc_doc/#example-output","title":"Example output","text":"<p>The resulting data from the wide spectral alignment and deconvolution is depicted in two tables and the deconvoluted data. When looking at the quantification table, the row ID identifies the different compounds and RT shows the retention time associated to each of them. Results are sorted according to the row ID and RT.</p> <p></p> <p>The cluster summary shows a cluster index, identifying each cluster, a mean retention time showing the average retention time in that cluster, a base score for each cluster and a base peak, indicating the highest intensity peak within the cluster. Results are sorted by cluster index.</p> <p></p>"},{"location":"plantmasst/","title":"plantMASST","text":"<p>plantMASST is a domain-specific MASST in which users can search MS/MS spectra against a public MS/MS database comprising taxonomically defined plant extracts.</p>"},{"location":"plantmasst/#input","title":"Input","text":"<p>The user can provide two different types of input for the search: by USI (Universal Spectrum Identifier) or by a list of Spectrum Peaks.</p>"},{"location":"plantmasst/#usi-input","title":"USI input","text":"<p>To perform a search using a spectrum identifier (USI), just copy and paste it into the \u201cSpectrum USI\u201d input area. If the user wants to perform a search using their own data, they can deposit datasets in MassIVE, MetaboLights, or Metabolomics Workbench, and using the GNPS Dashboard tool, get the USI assigned to each specific scan. The user can access the documentation to see more details about the usage of the dashboard (GNPS Dashboard Documentation). </p> <p>In addition, a USI can be retrieved from a GNPS job (such as feature-based molecular networking or classical molecular networking workflow) or from any spectrum that is part of the GNPS libraries. Examples of types of valid USIs can be found in the Metabolomics Spectrum Resolver webpage.</p> <p> Figure 1. Input area for USI search on plantMASST</p>"},{"location":"plantmasst/#spectrum-peaks-input","title":"Spectrum Peaks input","text":"<p>Another useful way to perform a search is to use the \u201cSpectrum Peaks\u201d input field to pass the spectrum details as a list of m/z and intensity pair values. This option is particularly helpful when the spectrum is not deposited in any of the repositories cited above, so no USI is associated with it.</p> <p>In such cases, the user must also provide a value in the \u201cPrecursor m/z\u201d field to specify the mass-to-charge ratio of the precursor ion. The \u201cCharge\u201d field can be included as well, but it defaults to 1 if left blank. The \"Use only the top N most intense peaks\" is optional, and can be useb both with USI and Spectrum peaks search. See more details about this parameter below.</p> <p> Figure 2. Input area for searching by spectrum peaks. The user needs to provide the formatted peak list and Precursor m/z. The charge input is optional, and defaults to 1 if not provided.</p>"},{"location":"plantmasst/#input-search-parameters","title":"Input search parameters","text":"<p>The user can also adjust the search parameters to customize the search. The following parameters are available.</p> <p>Parameters available only for searches using Spectrum peaks:</p> <ul> <li>Precursor m/z: The mass-to-charge ratio of the precursor ion. This field is required when using the Spectrum Peaks input.</li> <li>Charge: The charge state of the precursor ion. This field is optional and defaults to 1 if not provided.</li> </ul> <p>Parameters available for both USI and Spectrum Peaks searches:</p> <ul> <li>Precursor m/z Tolerance (Da): The mass tolerance for the precursor ion. The default value is 0.05 Da.</li> <li>Fragment Tolerance (Da): The mass tolerance for the fragment ions. The default value is 0.05 Da.</li> <li>Cosine Threshold: The minimum cosine similarity score for a match. The default value is 0.7.</li> <li>Minimum Matched Peaks: The minimum number of matched peaks required for a match. The default value is 3.</li> <li>Use only the top N most intense peaks (optional): The user can specify a number to limit the number of peaks used in the search. This is useful for reducing noise in the spectrum by using only the N most intense peaks in the spectrum. The default value is empty, meaning all peaks will be used. When performing searches using USI, the list of peaks will be fetched from the GNPS database, and the user can choose to limit the number of peaks used in the search.</li> </ul> <p>Important note</p> <p>When using Use only the top N most intense peaks option with the USI search, it won't be possible to see mirror plots for the matches. This is because the search will be performed using the top N peaks, and the mirror plot requires the full spectrum and USI search for comparison. If you want to see mirror plots, please do not use this option.</p> <p>Parameters available when performing Analog Search:</p> <ul> <li>Analog Search: This option allows the user to search for possible analogs of the compound. The default value is No.</li> <li>Delta Mass Above (Da): The maximum mass difference between the query and the analog. The default value is 130 Da.</li> <li>Delta Mass Below (Da): The minimum mass difference between the query and the analog. The default value is 200 Da.</li> </ul>"},{"location":"plantmasst/#search-examples","title":"Search examples","text":"<p>The example card on the right dashboard provides links to pre-configured search inputs. These examples demonstrate how to use the interface with both USI and spectrum peaks.</p> <p>Clicking the links will populate the required field on the interface, requiring the user to only click \u201cSearch plantMASST by USI\u201d or \u201cSearch plantMASST by Spectrum Peaks\u201d, depending on the initial choice, as seen in the figure below. We encourage the user to explore the different searches and how the different parameters affect the search results to better understand how to use the interface.</p> <p></p> <p>Figure 3. The example card provides a few pre-configured entries that can be used to explore how to populate the search parameters.</p>"},{"location":"plantmasst/#searching","title":"Searching","text":""},{"location":"plantmasst/#plantmasst-search","title":"plantMASST Search","text":"<p>The example below illustrates a search using an USI for the compound moroidin as input (Box 1). The fields marked with an \u201cX\u201d were not altered, and by default, the search will look only for exact matches within the specified parameters (Analog Search \\= No, Box 2).</p> <p>The remaining fields (Fragment Tolerance, Cosine Threshold, Minimum Matched Peaks, Delta Mass Below.Above) can be adjusted as necessary.</p> <p>Finally, the user can click \u201cSearch plantMASST by USI\u201d (Box 3) to perform the search.</p> <p> Figure 4. Search parameters populated for USI search for the compound moroidin. By default, the Analog Search is off, and the search will look for matches within the tolerance input for PM Tolerance and fragment tolerance. Box 1 - USI input for moroidin. Box 2 - Parameters set with Analog Search off (default). Box 3 - Search button to perform the search using the provided USI.</p> <p>Another very useful feature available is the \u201cCopy Link\u201d button, which allows the user to share their search parameters easily. This facilitates reproducibility and collaboration by enabling others to rerun the exact same query.</p> <p>URL example</p> <p>The URL below is an example of the parameters used in the search shown in the figure above. The user can click on it to populate the search fields with the same parameters. </p> <p>Click here to populate the plantMASST search with the parameters shown above</p> <p>Reproducibility tip</p> <p>Sharing a link like this ensures anyone can load the exact same parameters in the interface without manually re-entering them.</p>"},{"location":"plantmasst/#plantmasst-analog-search","title":"plantMASST Analog Search","text":"<p>To search for possible compound analogs, the user must select Yes on the \u201cAnalog Search\u201d field. In that case, a delta mass range should also be given using the \u201cDelta Mass Below (Da)\u201d/\u201dDelta Mass Above (Da)\u201d inputs. Both USI and Spectrum Peaks search inputs can be used for an analog search.</p> <p>In the figure below, we illustrate the search using the USI for moroidin (Fig 5, Box 1). The search parameters were defined as shown in Box 2. Finally, to perform the search, we click on \u2018Search plantMASST by USI\u2019  (Box 3).</p> <p> Figure 5. Search parameters set for Analog Search using an USI for the compound moroidin. Box 1 - USI input for moroidin. Box 2 - Parameters set with Analog Search on. Box 3 - Search button to perform the search using the provided USI.</p> <p>Reproducibility tip</p> <p>To populate the search fields as shown above, click the link: plantMASS analog search parameters example</p>"},{"location":"plantmasst/#output","title":"Output","text":""},{"location":"plantmasst/#default-search-results","title":"Default search results","text":"<p>The search results can be visualized in two main formats: A taxonomic tree and through data tables. Those outputs are highlighted in the figure below. The tree offers interactive features, and the user can explore the details by moving the cursor over any node, for example. The visualization is also highly customizable using the controls available above the tree.</p> <p> Figure 6. Interactive result tree visualization. The user can use the available controls to customize the visualization as well as see details by moving the mouse over the nodes. The result tables can be visualized and exported by clicking the buttons on the top left corner.</p> <p>The results tables offer a concise way of obtaining more details about the matches. On the Dataset Matches tab, information such as NCBI taxonomy ID number, organism name, and external links to the matching spectrum, public dataset source, and a link to visualize the original file data using the GNPS Dashboard are available. For this search, 90 matches with public datasets were retrieved for moroidin.</p> <p> Figure 7. Dataset matches table visualization. Here details such as the NCBI  taxonomy ID, cosine similarity, matching spectra USI and other information are summarized. The table can also be exported in 3 different formats to be further explored.</p>"},{"location":"plantmasst/#analog-search-results","title":"Analog search Results","text":"<p>Below, we can see the results retrieved when the analog search is performed with the parameters described in the \u201cplanMASST Analog Search\u201d section. The interface is the same as described for the standard search, including customizing the tree visualization and exporting table results, as seen in the figure.</p> <p> Figure 8. Dataset matches table, filtered to matches containing the word \u201ctomentosa\u201d. NCBI  taxonomy ID, cosine similarity, matching spectra USI, and other information are available. The table can also be exported in 3 different formats to be further explored.</p> <p>However, here we can see the total amount of matches has increased compared to the previous search. Since we are also looking for analogs, more matches are expected, and we can see that compounds that are not exact matches to moroidin are also retrieved. </p> <p>The Delta Mass column in the table above shows one compound that has a Delta mass of +39.01 Da compared to moroidin. This means that the spectrum is similar enough to moroidin (according to the set parameters), but the precursor has a greater mass, suggesting that the compounds\u2019 core structure might be similar but with an additional portion corresponding to the observed delta mass.`</p>"},{"location":"plantmasst/#downloading-results","title":"Downloading results","text":"<p>As described in the previous session, the result tables can be exported in different formats for further use or processing. Besides that, the entire interactive tree with embedded tables can be downloaded as a HTML file, clicking on \u201cDownload Results\u201d at the bottom of the page.</p>"},{"location":"plantmasst/#page-contributors","title":"Page Contributors","text":"<p>Ming Wang</p>"},{"location":"protocol_fbmn_progenesis_overlay/","title":"Step by Step Protocols for Progenesis Data","text":""},{"location":"protocol_fbmn_progenesis_overlay/#protocol-to-perform-fbmn-and-overlay-workflow-on-gnps2-with-progenesis-data","title":"Protocol to perform FBMN and Overlay workflow on GNPS2 with Progenesis data","text":"<p>The general documentation for FBMN on GNPS2 can be found here and the documentation for FBMN with Progenesis can be found here.</p> <p>In summary, you will need to perform the following steps:</p> <ol> <li> <p>Import and process the mass spectrometry data with Progenesis QI.</p> </li> <li> <p>Export the processing results (the feature table file and the .msp file). </p> </li> <li> <p>Upload the feature table file and the .msp file to GNPS2</p> </li> <li> <p>[Optional] Prepare and upload the metadata file to GNPS2 - Metadata file format described here.</p> </li> <li> <p>Upload other optional input files (Supplementary Pairs and/or Original mzML Files) to GNPS2 if necessary. See FBMN documentation.</p> </li> <li> <p>Launch FBMN Workflows on GNPS2 by following the FBMN documentation or click here.</p> </li> <li> <p>Select the input files, including a feature table file, the spectral .msp file and other optional input files.</p> </li> <li> <p>Select PROGENESIS as the Feature Finding Tool.</p> </li> <li> <p>Set the parameters or just use the default settings - see FBMN documentation.</p> </li> <li> <p>Click Submit Workflow and wait for the workflow to finish.</p> </li> <li> <p>After the FBMN task finishes, click \u201cDownstream Analysis - Overlay Custom Network\u201d in the Downstream Analysis section.</p> </li> <li> <p>The Input MGF File and Input GraphML File have already been pre-populated, you just need to select the Input Overlay File from the feature table file uploaded before. Please note, the headers of the columns to be used should not contain any white space and special characters. </p> </li> <li> <p>Provide the \"Overlay Node ID Column Header\", e.g., \u201crow_ID\u201d without quotation marks.</p> </li> <li> <p>Click Submit Workflow and wait for the task to finish.</p> </li> </ol>"},{"location":"quickstart2/","title":"GNPS2 Quickstart2","text":""},{"location":"quickstart2/#fbmn-quickstart2","title":"FBMN Quickstart2","text":"<p>This is the quickstart2 for FBMN in GNPS2. You can access the portal at Quickstart2. </p> <p>You will simply need to upload your quant table, MS/MS spectra, and optionally the metadata file. </p>"},{"location":"status/","title":"Server Status","text":"<p>Here we can see the status of the GNPS2 Infrastructure ecosystem. </p>"},{"location":"status/#uptime-monitoring","title":"Uptime Monitoring","text":"<p>Here is a quick dashboard for the uptime monitoring meant to give an at the glance understanding which servers are up and running but do not give you detailed information about funcionality. </p> <p>Uptime Monitoring</p>"},{"location":"status/#integration-testing","title":"Integration Testing","text":"<p>These are detailed server status tests for functionality:</p> Server Status GNPS2 - Structure GNPS2 - Cytoscape GNPS2 - NP Classifier"},{"location":"status/#workflow-testing","title":"Workflow Testing","text":"<p>TODO: Add all the workflow testing monitoring</p>"},{"location":"toolindex/","title":"GNPS2 Tool Index","text":"<p>This is a global tool index for GNPS2. Throughout this documentation we have very detailed information for how to use way more tools than we thought we'd have, but it's a good problem to have!</p> <p>However, we recognize it might be difficult for people to simply see what all is available in GNPS as tool and web services. This table is always evolving and hope to make it easier for people to navigate. </p> <p>Please help us fill in more completely!</p>"},{"location":"toolindex/#gnps2-web-tools","title":"GNPS2 Web Tools","text":"<p>These are web tools that is run by the GNPS2 team and provides complementary functionality to GNPS2. </p> Tool Documentation Source Code Citation Pubmed Co-Authors List --- --- --- Nature Journals Author Quick Entry --- --- --- GNPS2 Spectral Similarity Hub --- --- --- GNPS2 Structure Server --- --- --- GNPS2 Cytoscape --- --- --- Metabolomics Spectrum Resolver Documentation GitHub Citation GNPS2 Networking URL Formatter --- --- --- GNPS2 Classical Networking Upset Plot Dashboard --- GitHub --- GNPS2 FBMN Upset Plot Dashboard --- --- --- NP Classifier --- GitHub --- GNPS2 Dashboard --- --- --- GNPS2 Plotter Dashboard (Beta) --- --- --- GNPS2 Dataset File Explorer (Beta) --- --- --- GNPS2 Public Libraries Download List --- --- --- GNPS2 Spectral Similarity Hub --- --- --- GNPS2 Tiny Mass Sharer --- --- --- GNPS2 MassQL Visualizer --- --- --- GNPS2 MassQL Analysis/Chatbot --- --- --- GNPS2 USI Playground --- --- --- GNPS2 Network Customization Playground --- --- --- CMMC Batch validation --- GitHub ---"},{"location":"toolindex/#web-interfaces-description","title":"Web Interfaces Description","text":""},{"location":"toolindex/#msms-spectrum-summary-app","title":"MS/MS Spectrum Summary App","text":"<p>Here is a little app that can take a set of MS/MS spectra and understand the consistent fragmentation.</p> <p>Spectrum Summary App</p>"},{"location":"toolindex/#molecular-networking-reformatting-app","title":"Molecular Networking Reformatting App","text":"<p>This little app can reformat molecular networking outputs to create tall tables to make downstream analysis a bit easier. </p> <p>Networking Reformatting App</p>"},{"location":"toolindex/#coauthor-summarizer","title":"Coauthor Summarizer","text":"<p>This app can take all of your publications and tell you who your coauthors were in the last n years. Pretty useful for NSF proposals. </p> <p>Coauthor App</p>"},{"location":"toolindex/#tinymass-app","title":"TinyMass App","text":"<p>This app is like tinyurl but for mass spectra. You can easily share MS spectra and get a USI that can be used in a ton of different places</p> <p>TinyMass App</p>"},{"location":"toolindex/#usi-generation-app","title":"USI Generation App","text":"<p>This app will help to create USIs from a variety of places from datasets to GNPS2 analysis jobs. Making it easier to interact with the rest of the ecosystem. </p> <p>USI Generation App</p>"},{"location":"toolindex/#massql-analysis-app","title":"MassQL Analysis App","text":"<p>This app makes working with MassQL a lot easier. </p> <p>You can do the following:</p> <ol> <li>Play around with MassQL against MS/MS spectral libraries</li> <li>Use an LLM to write and interact with MassQL queries for the first time</li> <li>Use an LLM to explain the MassQL Queries </li> </ol> <p>MassQL Analysis App</p>"},{"location":"toolindex/#gnps2-jupyter-notebooks","title":"GNPS2 Jupyter Notebooks","text":"<p>These notebooks are for postprocessing of results from GNPS/GNPS2 and other computational processing that have not been integrated yet. If they are super useful, we can integrate into high throughput workflows. For now, give them a try!</p> Tool Documentation Source Code Binder Launch GNPS2 MASST Post Processing --- GitHub GNPS2 MassQL and Networking Integration --- GitHub GNPS2 Networking Family Consistent Fragmentation --- GitHub GNPS2 MassQL Post Processing --- GitHub CMMC Integration --- GitHub"},{"location":"toolindex/#community-tools-gnps2-interfaces-with","title":"Community Tools GNPS2 Interfaces with","text":"Tool Publication MS2LDA.org Citation NPAtlas Citation MIBiG Citation ClassyFire Citation SMART NMR Citation MassBank Citation Cytoscape Citation ProteoWizard Citation SNAP-MS Citation and Documentation"},{"location":"transitive/","title":"Network Topology - Transitive Alignments","text":""},{"location":"transitive/#transitive-network-topology","title":"Transitive Network Topology","text":"<p>Transitive Alignment Workflow enhances the construction of Molecular Networks (MNs) in mass spectrometry data analysis by addressing limitations in traditional MS/MS peak alignment methods. Conventional approaches, which rely on pairwise comparisons using modified cosine methods, often fail to connect molecules with multiple structural modifications, resulting in incomplete networks. The Transitive Alignments approach incorporated in this workflow utilizes network topology to connect molecules that are indirectly related, thereby improving the accuracy and completeness of MNs.</p> <p>Checkout the workflow here. </p> <p>You can also use this after any molecular networking job, either classical or FBMN. </p> <p>Citation - In Press</p>"},{"location":"transitive/#network-topology-parameters","title":"Network Topology Parameters","text":""},{"location":"transitive/#transitive-param-min-clique-cosine","title":"Transitive Param - Min Clique Cosine","text":"<p>The score threshold to control the edge score within a CAST clique.</p>"},{"location":"transitive/#transitive-param-min-transitive-alignment-score","title":"Transitive Param - Min Transitive Alignment Score","text":"<p>The score threshold for adding a transitive alignment edge back to the network.</p>"},{"location":"transitive/#mst-filter-option","title":"MST Filter Option","text":"<p>Filter option for each compound after constructing the MN (This is only for better visualization layout). Available options: - Pure MST: Only apply MST on the MN. - Greedy MST: After applying MST, greedily add back high score edges for higher average edge score. - Hybrid MST: Using the original edges first, if unable to create MST, then use the transitive alignment edges to finish the MST.</p>"},{"location":"transitive/#induced-network-parameters","title":"Induced Network Parameters","text":""},{"location":"transitive/#induced-network-param-option","title":"Induced Network Param - Option","text":"<ul> <li>Intersection the Transitive and MAX Hops: Using this method, if and only if the nodes in the original network are within the max hops of the source node and also the transitive alignment score is above the setting threshold (Induced Network Param - Min Transitive Alignment Score) will be in the induced network results.</li> <li>Union the Transitive and Max Hops: This method will first do all the transitive alignment from the source node to all the other reachable nodes, and then add back the transitive alignment edge above the threshold (Induced Network Param - Min Transitive Alignment Score) to the original network. Afterward, select the node within the max hops from the source node or the edge score above the threshold (Induced Network Param - Min Transitive Alignment Score) to the results.</li> </ul>"},{"location":"transitive/#induced-network-param-source-node","title":"Induced Network Param - Source Node","text":"<p>The source node to start the induced network.</p>"},{"location":"transitive/#induced-network-param-max-hops","title":"Induced Network Param - Max Hops","text":"<p>Maximum hops from the source node to the target node.</p>"},{"location":"transitive/#induced-network-param-min-transitive-alignment-score","title":"Induced Network Param - Min Transitive Alignment Score","text":"<p>The transitive alignment score threshold.</p>"},{"location":"transitive/#induced-network-param-mst-filter-option","title":"Induced Network Param - MST Filter Option","text":"<p>Filter option for the induced network after constructing (This is only for better visualization layout). Available options: - Pure MST: Only apply MST on the MN. - Greedy MST: After applying MST, greedily add back high score edges for higher average edge score. - Hybrid MST: Using the original edges first, if unable to create MST, then use the transitive alignment edges to finish the MST.</p>"},{"location":"usi/","title":"GNPS2 USI","text":"<p>In GNPS2, you can also refer to spectra using the Universal Spectrum Identifier. The main resolver can be found at metabolomics-usi.gnps2.org. The format of the USI is as follows:</p> <pre><code>mzspec:GNPS2:TASK-${task}-input_file_folder/${row[\"filename\"]}:scan:${row[\"scan1\"]}\n</code></pre> <p>You can also access the gnps2 native resolver at </p> <pre><code>https://gnps2.org/dashboards/embedded/resolver/\n</code></pre>"},{"location":"waters_conversion/","title":"Waters","text":"<p>Waters LCMS data conversion: an easy workflow to convert Waters raw data to open data formats</p> <p>Waters LCMS raw data can be converted into open data formats, such as mzML, following a simple workflow with only two main steps: 1) File conversion in DataConnect and 2) Scan renumbering using a GNPS2 workflow.</p>"},{"location":"waters_conversion/#file-conversion-in-dataconnect-for-windows-only","title":"File conversion in DataConnect (for Windows only):","text":"<ol> <li> <p>Waters files (.raw) are converted into mzML using DataConnect, available from the Waters MicroApps Website: https://microapps.on-demand.waters.com/home/showmarkdown/data-as-a-product. </p> </li> <li> <p>Follow instructions for downloading, installation and licensing found in the Release Notes: https://proddocuments.on-demand.waters.com/ReleaseNotes/Waters%20Tyne%20Bridge%20ReleaseNotes.pdf.</p> </li> <li> <p>Once DataConnect is properly installed, open it and click on Queue MassLynx tasks button. </p> </li> <li> <p>Choose the folder where the RAW files (.raw) are. Select the files on the Available RAWs window (left) and they will be moved to the Selected RAWs window (right), then click next.</p> </li> <li> <p>Select the lock mass compound on the top left box for mass correction. Use the defaults parameters, unless needed otherwise (on defatult Zlib compression, Write index and Centroid data using 2D peak peaking are checked). </p> </li> <li> <p>Choose your m/z compression size (32 or 64 bit), then click next. Choose your output path folder. Log level default is debug. Click export RAWs.</p> </li> <li> <p>You will be directed to the task queue window. The file conversion will start immediately or will be put into queue.</p> </li> <li> <p>Once the file conversion is complete, check in the output path folder, noting if the file size is around the expected size.</p> </li> <li> <p>Transfer the files into your GNPS2 profile, using ftp or sftp. Instructions for file upload can be found here: https://wang-bioinformatics-lab.github.io/GNPS2_Documentation/fileupload/</p> </li> </ol>"},{"location":"waters_conversion/#scan-renumbering-using-a-gnps2-workflow","title":"Scan renumbering using a GNPS2 workflow.","text":"<p>To correct the MS1 and MS2 scan numbering in the converted files, run the Agilent Workflow on the GNPS2 website.</p> <ol> <li> <p>On GNPS2 website (gnps2.org) launch Agilent conversion workflow.</p> </li> <li> <p>Select files from your folder and submit workflow.</p> </li> <li> <p>Converted files can now be used in downstream analysis on the GNPS2 website or downloaded for other analysis.</p> </li> </ol>"},{"location":"workflowdev/","title":"GNPS2 Workflow Development","text":""},{"location":"workflowdev/#overview-of-gnps2-workflow-development","title":"Overview of GNPS2 Workflow Development","text":"<p>Here is the template for GNPS2 Workflows, it provides boiler plate for NextFlow and the accompanying yaml files for input and display. There are several distinct steps that we would recommend:</p> <ol> <li>Make a new repository for the GNPS2 workflow that uses this template</li> <li>Make sure you can run the template by having conda and nextflow installed</li> <li>Run the test with <code>make run</code></li> <li>Once your workflow is how you like it in nextflow, you can hook everything up with the workflowinput.yaml file to define the input form. The specifics on each thing are below</li> <li>Update the workflow name so it is unique to your workflow in workflowinput.yaml</li> <li>Update the workflow name for results in workflowresults.yaml</li> <li>To deploy to Dev GNPS2 instance, send Ming your preferred username and public ssh key</li> <li>Prep deployment environment</li> <li>Deploy to GNPS2 Dev instance, see below on how to do that</li> </ol>"},{"location":"workflowdev/#defining-gnps2-workflow-input-yaml","title":"Defining GNPS2 Workflow Input YAML","text":"<p>For each workflow, there is a yml file called: workflowinput.yaml. It requires the following items:</p> <pre><code>workflowname: classic_networking\nworkflowdescription: LC - Classical Molecular Networking\nworkflowlongdescription: Molecular networks ...\nworkflowversion: \"0.1\"\nworkflowfile: workflows.nf\nworkflowautohide: false\nadminonly: true\nparameterlist:\n</code></pre>"},{"location":"workflowdev/#workflow-input-parameters","title":"Workflow Input Parameters","text":""},{"location":"workflowdev/#text-entry","title":"Text Entry","text":"<pre><code>    - displayname: Precursor Ion Tolerance\n      paramtype: text\n      nf_paramname: precursor_mass_tolerance\n      formplaceholder: Enter the Precursor Ion Tolerance\n      formvalue: \"2.0\"\n      tooltip: \"Lorem Ipsum\"\n</code></pre>"},{"location":"workflowdev/#text-area","title":"Text Area","text":"<pre><code>    - displayname: USI Entry\n      paramtype: textarea\n      nf_paramname: usi_field\n      formplaceholder: Enter USIs\n      formvalue: \"\"\n      rows: 4\n      cols: 50\n</code></pre>"},{"location":"workflowdev/#drop-down-list","title":"Drop Down List","text":"<pre><code>    - displayname: Network Generation Mode\n      paramtype: select\n      nf_paramname: cosinemode\n      formvalue: fast\n      options:\n        - value: python\n          display: python\n        - value: fast\n          display: fast\n      options-from-file: options.csv\n      options-from-url:\n        url: https://gnps-external.ucsd.edu/gnpslibrary\n        value-key: \"name\"\n        display-key: \"name\"\n</code></pre> <p>NOTE:  for a multi-select dropdown list, you can use <code>selecttype: multi</code></p> <p>NOTE 2: for a multi-select dropdown with default values, use ';' seprated values for the form value. Example:</p> <pre><code>    - displayname: Multi Select\n      paramtype: select \n      selecttype: multi\n      nf_paramname: multi_select\n      formvalue: 'a;c'\n      options:\n        - value: 'a'\n          display: 'Show Text 1'\n        - value: 'b'\n          display: 'Show Text 2'\n        - value: 'c'\n          display: 'Show Text 3'\n</code></pre>"},{"location":"workflowdev/#multiple-selection-checkboxes","title":"Multiple Selection Checkboxes","text":"<pre><code>    - displayname: Test Checkbox Selection\n      paramtype: select_checkbox\n      nf_paramname: test_checkbox\n      formvalue: optiona\n      options:\n        - value: optiona\n          display: optiona\n        - value: optionb\n          display: optionb\n</code></pre> <p>NOTE: For options-from-url, the API expects to return in json format, a list of dictionaries. Each dictionary will have the same keys, and the users can specify the value and display for the keys in the dropdown.</p>"},{"location":"workflowdev/#section-header","title":"Section Header","text":"<pre><code>    - displayname: Advanced Network Options\n      paramtype: section\n</code></pre>"},{"location":"workflowdev/#file-selector","title":"File Selector","text":"<pre><code>    - displayname: Metadata Path\n      paramtype: fileselector\n      nf_paramname: metadata_filename\n      formplaceholder: Enter the path to metadata\n      formvalue: \"\"\n      targettaskfolder: metadata_folder\n      optional: true\n      selectsinglefile: false\n      folderunroll: true\n      linkdata: true\n</code></pre> <ol> <li>optional means that if nothing is selected, it will default the nextflow argument to NO_FILE</li> <li>selectsinglefile means that it will take the first selected file as the nextflow argument rather than the whole folder</li> <li>folderunroll means that we will file all the leaf files and symlink them into the target folder, false means we will simply link the select file or folder as is</li> <li>linkdata means that any linking will happen, by default on, but can turn off in cases where we simply want to specify files and not actually do anything with it beyond the name.</li> <li>targettaskfolder is the folder where you put the data on the server </li> </ol>"},{"location":"workflowdev/#conditional-inputs","title":"Conditional Inputs","text":"<p>Using the <code>showif</code> key, you can conditionally display fields based on the values of other inputs. This key allows you to define one or more conditions, and the field will be shown if any of those conditions are met (i.e., an OR logic between conditions).</p> <p>Within each condition, you list one or more key-value pairs: - The key should correspond to the <code>nf_paramname</code>. - The value is the required value.</p> <p>All key-value pairs within a single condition must be satisfied (i.e., an AND logic).</p> <p>The following is an example where the <code>Minimum Cosine</code> field is displayed if: - The Search Method is ModiFinder, or - The Search Method is GNPS and Analog Search is enabled.</p> <pre><code>    - displayname: Minimum Cosine\n      paramtype: text\n      nf_paramname: minimum_cosine\n      formvalue: \"0.7\"\n      showif:\n        - condition:\n          - key: search_method\n            value: 'gnps'\n          - key: analog_search\n            value: 'true'\n        - condition:\n          - key: search_method\n            value: 'modifinder'\n\n    - displayname: Search Method\n      paramtype: select\n      nf_paramname: search_method\n      formvalue: \"gnps\"\n      options:\n        - value: \"gnps\"\n          display: \"GNPS\"\n        - value: \"modifinder\"\n          display: \"ModiFinder\"\n        - value: \"blink\"\n          display: \"Blink\"\n\n    - displayname: Analog Search\n      paramtype: select\n      nf_paramname: analog_search\n      formvalue: \"false\"\n      options:\n        - value: \"true\"\n          display: \"True\"\n        - value: \"false\"\n          display: \"False\"\n      showif:\n        - condition:\n          - key: search_method\n            value: 'gnps'\n</code></pre> <p>Note: The condition only works for single entry items such as <code>paramtype: text</code> or for <code>paramtype: select</code> where the <code>selecttype</code> is not set to <code>multi</code>.</p>"},{"location":"workflowdev/#workflow-display-parameters","title":"Workflow Display Parameters","text":""},{"location":"workflowdev/#pure-java-script-client-side-tables","title":"Pure Java Script Client Side Tables","text":"<pre><code>-   name: Results\n    displayname: Results\n    viewname: results\n    displaytype: datatable\n    parameters:\n        filename: library/results.tsv\n        error_missingfile: \"No File\"\n        columns:\n            -   title: \"Visualize\"\n                data: \n            -   title: \"SpecFile\"\n                data: filename\n        columnDefs: '[ {\"targets\": 0,\"data\": null,\"render\": function ( data, type, row, meta ) {\n        return `\n            &lt;a target=\"_blank\" href=\"https://metabolomics-usi.gnps2.org/dashinterface/?usi1=mzspec:GNPS2:TASK-${task}-input_file_folder/${row[\"filename\"]}:scan:${row[\"scan1\"]}\"&gt;View Spectrum&lt;/a&gt;\n        `;}}]'\n</code></pre>"},{"location":"workflowdev/#serverside-tables-medium-sized","title":"Serverside Tables (Medium Sized)","text":"<pre><code>-   name: Results\n    displayname: Results\n    viewname: results\n    displaytype: datatable_server\n    parameters:\n        filename: library/results.tsv\n        error_missingfile: \"No File\"\n        columns:\n            -   title: \"Visualize\"\n                data: \n            -   title: \"SpecFile\"\n                data: filename\n        columnDefs: '[ {\"targets\": 0,\"data\": null,\"render\": function ( data, type, row, meta ) {\n        return `\n            &lt;a target=\"_blank\" href=\"https://metabolomics-usi.gnps2.org/dashinterface/?usi1=mzspec:GNPS2:TASK-${task}-input_file_folder/${row[\"filename\"]}:scan:${row[\"scan1\"]}\"&gt;View Spectrum&lt;/a&gt;\n        `;}}]'\n</code></pre>"},{"location":"workflowdev/#serverside-tables-large-sized-gb-size","title":"Serverside Tables (Large Sized - GB+ Size)","text":"<pre><code>-   name: Results\n    displayname: Results\n    viewname: results\n    displaytype: datatable_serverbig\n    parameters:\n        filename: library/results.tsv\n        error_missingfile: \"No File\"\n        columns:\n            -   title: \"Visualize\"\n                data: \n            -   title: \"SpecFile\"\n                data: filename\n        columnDefs: '[ {\"targets\": 0,\"data\": null,\"render\": function ( data, type, row, meta ) {\n        return `\n            &lt;img src=\"https://structure.gnps2.org/structureimg?smiles=${row[\"smiles\"]}\"/&gt;\n        `;}}]'\n</code></pre>"},{"location":"workflowdev/#linkout","title":"Linkout","text":"<pre><code>-   name: Downstream Analysis - Run Analysis\n    displayname: Downstream Analysis - Run Analysis\n    viewname: downstreamworkflow\n    displaytype: linkout\n    parameters:\n        baseurl: /workflowinput\n        urlparam:\n            -   workflowname:reanalysis_workflow\n        hashparam:\n            -   input_spectra:TASKLOCATION/[task]/input_spectra\n            -   description:Downstream from [task] Molecular Networking\n\n\n-   name: Visualize Heatmap\n    displayname: Visualize Heatmap\n    viewname: visualizeheatmap\n    displaytype: linkout\n    parameters:\n        baseurl: /taskresult/[task]/file/nf_output/output.html\n        urlparam:\n            -   attachment:no\n</code></pre> <p>Here if we want to use the task params in the linkout, simply use the syntax</p> <p><code>[@paramname]</code></p>"},{"location":"workflowdev/#download-files","title":"Download Files","text":"<pre><code>-   name: Download PCoA\n    displayname: Download PCoA\n    viewname: poca\n    displaytype: download\n    parameters:\n        filename: pcoa/pcoa.qzv\n</code></pre>"},{"location":"workflowdev/#section-division","title":"Section Division","text":"<pre><code>-   name: section\n    displayname: Summary Views\n    viewname: section\n    displaytype: section\n</code></pre>"},{"location":"workflowdev/#display-widgets","title":"Display Widgets","text":"<p>We can have little widgets to render in the table rows. To make them, you overwrite the columnDefs key. Here are a few examples.</p> <ul> <li> <p>Spectrum Resolver Linkouts</p> <pre><code>'[ {\"targets\": 0,\"data\": null,\"render\": function ( data, type, row, meta ) {\n        return `\n            &lt;a target=\"_blank\" href=\"https://metabolomics-usi.gnps2.org/dashinterface/?usi1=mzspec:GNPS2:TASK-${task}-input_file_folder/${row[\"filename\"]}:scan:${row[\"scan1\"]}\"&gt;View Spectrum&lt;/a&gt;\n        `;}}]'\n</code></pre> </li> <li> <p>Structure Display</p> <pre><code>'[ {\"targets\": 0,\"data\": null,\"render\": function ( data, type, row, meta ) {\n        return `\n            &lt;img src=\"https://structure.gnps2.org/structureimg?smiles=${row[\"smiles\"]}\"/&gt;\n        `;}}]'\n</code></pre> </li> </ul>"},{"location":"workflowindex/","title":"GNPS2 Workflow Index","text":"<p>This is a workflow index for GNPS2. Throughout this documentation we have a small tutorial of the list of workflows listed https://gnps2.org/workflows The source code and the documentation of the tools will be linked at the beginning of each tool. </p> <p>The workflows are nextflow workflows that can be run independently in any server running nextflow. </p> <p>However, we recognize it might be difficult to keep this documentation up to date, so please help us fill in more completely! Edit online, submit the PR and we will review it!</p>"},{"location":"workflowindex/#gnps2-workflows","title":"GNPS2 Workflows","text":""},{"location":"workflowindex/#ms-ms-chooser","title":"MS-MS chooser","text":"<p>| Link | Source Code | Tool documentation | ---  |</p> <p>MSMS-Chooser is a GNPS2 workflow and open-source protocol to empower the community to collect MS/MS reference data and contribute to the public MS/MS reference library.  This specific step enables the finding of reference MS/MS spectra automatically in LC/MS data of pure standards given the structure of the pure standards. </p> <p>Input: Annotations file in .tsv format from MassIVE.  Spectra path containing a set of mzML/XML files.  tolerance: in ppm</p> <p>Output:  A .tsv file with the extracted information spectra from the molecule of interest. </p>"},{"location":"workflowindex/#feature-based-molecular-networking","title":"Feature-based Molecular Networking","text":"<p>| Link | --- | Tool documentation | ---  |</p>"},{"location":"workflowindex/#np-classifier","title":"NP-Classifier","text":"<p>| Link | Source Code | Tool documentation | ---  |</p>"},{"location":"workflowindex/#ms2lda","title":"MS2LDA","text":"<p>| Link | Source Code | Tool documentation | Citation  |</p>"},{"location":"workflowindex/#chemwalker","title":"ChemWalker","text":"<p>| Link | Source Code | Tool documentation | Citation  |</p>"},{"location":"workflowindex/#ms2query","title":"MS2query","text":"<p>| Link | Source Code | Tool documentation | Citation  |</p>"},{"location":"workflowindex/#mshub-gc","title":"MSHub-gc","text":"<p>| Link | Source Code | Tool documentation | ---  |</p>"},{"location":"workflowtasks/","title":"GNPS2 Tasks","text":""},{"location":"workflowtasks/#gnps2-task-management","title":"GNPS2 Task Management","text":"<p>GNPS2 tasks are specific instances of data processing of workflows. You can find the workflows here. </p>"},{"location":"workflowtasks/#task-status","title":"Task Status","text":"<p>There are three distinct statuses that matter:</p> <ul> <li>RUNNING</li> <li>DONE</li> <li>FAILED</li> </ul>"},{"location":"workflowtasks/#resuming-tasks","title":"Resuming Tasks","text":"<p>If a task fails or is a weird state, you can go ahead and click the \"Resume\" button to have it try to restart. </p>"},{"location":"workflowtasks/#hiding-a-task","title":"Hiding a Task","text":"<p>A task can be hidden so that its not in the default list</p>"},{"location":"workshops/","title":"GNPS2 Workshops","text":""},{"location":"workshops/#upcoming-workshops-and-events","title":"Upcoming Workshops and Events","text":"<p>We'll be setting up a email list to keep you all in the loop for future workshops. One main venue is via VMOL.</p>"},{"location":"workshops/#previous-workshops","title":"Previous Workshops","text":"Venue Description Dates Speakers/Instructors Material Estimated Attendance Online IDBac Tutorial 2024-08-14 Organizers of the Tutorial Materials to be uploaded soon 26 Tuebingen, Germany International Summer School on Non-Targeted Metabolomics 2022 2022-08-22 to 26 Organizers of the Summer School Video 75+online CMFI Mass Spec Seminar Zoom Video Series 2022-02 Daniel Petras organized series Video 20-100+ CMFI Mass Spec Seminar Molecular Networking 2022-02-15 Pieter Dorrestein and Daniel Petras Video 35 Nature Microbiome 2021 GNPS Workshop Food, Diet, and Microbiome 2021-11-16 Pieter Dorrestein and Mingxun Wang Material Video 300+ UNIFAL-MG Brazil 2021 Virtual class and hands-on: Applications of Mass Spectrometry in Pharmacotherapeutics development - MS Fundamentals to GNPS 2021-11-05 Mauricio Caraballo Material 25 MANA 2021 GNPS Workshop - Networking, Dashboard, MASST 2021-10-18 Mingxun Wang and Pieter Dorrestein Material Video 100 Virtual Classroom Exploratory Data Analysis with brief primers on MASST, Library Matching, Molecular Networking, &amp; GNPS Dashboard 2021-05-27 &amp; 2021-05-12 Teaching Practical Guides as part of course No URL available 25 Zoom! GNPS Dashboard - Overview 5/12/2021 9AM PST Mingxun Wang and Daniel Petras Material Video 140 Zoom! Basic principles of metabolomics-based MS data and GNPS tools for data analysis in Portuguese - Part 1 04/28/2020 9AM PST Anelize Bauermeister, Tiago Le\u00e3o, Naydja M. Maimone, Danielle R. P. Barros Material Video 450 Zoom! Basic principles of metabolomics-based MS data and GNPS tools for data analysis in Portuguese - Part 2 04/29/2020 9AM PST Anelize Bauermeister, Tiago Le\u00e3o, Naydja M. Maimone, Danielle R. P. Barros, Ricardo Silva Material Video 320 Zoom! GNPS Feature Based Molecular Networking in Portuguese - Part 1 12/09/2020 9AM PST Anelize Bauermeister, Carlismari Grundmann, Helena Mannochio, Juliano Amaral, Tiago Le\u00e3o Material 200 Zoom! GNPS Feature Based Molecular Networking in Portuguese - Part 2 12/10/2020 9AM PST Anelize Bauermeister, Carlismari Grundmann, Helena Mannochio, Juliano Amaral, Tiago Le\u00e3o Material 200 Zoom! SIO262 Molecular Networking Intro 11/25/2020 15:30 PM PST Daniel Petras, Mingxun Wang, Video 20 Zoom! GNPS LCMS Browser Workshop 10/14/2020 9AM PST Mingxun Wang, Daniel Petras Material 20 Zoom! 1st GNPS User Meeting 8/26/2020 9AM PST GNPS Community Program Video 300 Zoom! GNPS GC - Part 2 7/29/2020 9AM PST Alexander Aksenov, Mabel Gonzalez Material Video 20 Zoom! GNPS Classical Molecular Networking in Portuguese 7/22/2020 9AM PST Anelize Bauermeister, Helena Mannochio Material Video 450 Zoom! GNPS ChemDir - Chemical Directionality for Longitudinal Molecular Networking 7/15/2020 9AM PST Daniel Petras, Mauricio Caraballo, Mingxun Wang Material 40 Zoom! GNPS Feature Based Molecular Networking in Espanol - Part 1 7/8/2020 9AM PST Mauricio Caraballo, Daniel Petras Material Video 40 Zoom! GNPS Feature Based Molecular Networking in Espanol - Part 2 7/9/2020 9AM PST Mauricio Caraballo, Daniel Petras Material Video 50 Zoom! Metabolomics Spectrum Resolver - Unifing spectrum rendering and customization 7/1/2020 9AM PST Mingxun Wang , Wout Bittremieux Materials Video 35 Zoom! GNPS - MS2LDA 6/24/2020 9AM PST Justin van der Hooft, Simon Rogers, Joe Wandy, Madeleine Ernst, Mingxun Wang Material Video 40 Zoom! GNPS Classical Molecular Networking in Espa\u00f1ol 6/17/2020 9AM PST Mauricio Caraballo, Mabel Gonzalez, Daniel Petras Material Video 60 Zoom! GNPS Merge Polarity Networks - Merging Networks from Positive and Negative Mode 6/11/2020 9AM PST Mingxun Wang, Allegra Aron Material Video 30 Zoom! GNPS MolNetEnhancer 6/3/2020 9AM PST Madeleine Ernst, Mauricio Caraballo, Mingxun Wang Material Video 47 Zoom! GC-MS deconvolution, library search and molecular networking 5/27/2020 9AM PST Alexander Aksenov, Mabel Gonzalez Material Video 44 YouTube Utilizing GNPS and MS2LDA for some molecular networking discovery 5/21/2020 6AM PST LiveStream --- Zoom! GNPS Ion-Identity Networking, Native Metabolomics 5/20/2020 9AM PST Robin Schmid, Daniel Petras, Allegra Aron Material Video 65 Zoom! GNPS Feature Based Molecular Networking (Job Submssions and Exploration) 5/14/2020 9AM PST Louis-Felix Nothias, Daniel Petras, Allegra Aron Material 103 Zoom! GNPS Feature Based Molecular Networking (MZmine2) 5/13/2020 9AM PST Daniel Petras, Allegra Aron Material Video 147 Zoom! GNPS ReDU 5/6/2020 9AM PST Alan Jarmusch, Mingxun Wang, Chrissy Aceves, Julia Gauglitz Material Video 40 Zoom! GNPS Classical Molecular Networking 4/29/2020 9AM PST Emily Gentry, Mingxun Wang, Morgan Panitchpakdi Material Video 60 Zoom! GNPS MASST 4/22/2020 9AM PST Mingxun Wang, Alan Jarmusch, Morgan Panitchpakdi, Emily Gentry Material Video 54 Zoom! GNPS Library Workshop/Hackathon April 8 9AM PST Mingxun Wang, Alan Jarmusch, Morgan Panitchpakdi, Emily Gentry Material Video 60 UFMT Brazil VI Workshop Etnofarmacologia - Use of the GNPS platform Nov 18 - 28 2019 Mauricio Caraballo Download 22 MIT Molecular Networking with MZmine and GNPS Dec 5 2019 Tomas Pluska, Daniel Petras, Robin Schmid ----- ASP 2019 GNPS Beginner/Advanced Workshop (3h) July 2019 Mingxun Wang, Pieter Dorrestein, Mauricio Caraballo Download 60 RFMF2019, France GNPS Beginner Workshop (4h) May 20 TBA Metabolomics 2019 GNPS Beginner Workshop (2h) June 22 Mingxun Wang, Madeleine Ernst, Zdenek Kamenik, Justin van der Hooft, Louis-Felix Nothias Download Prague GNPS Workshop (4h) June 28 Mingxun Wang, Louis-Felix Nothias, Robin Schmid, Justin van der Hooft TBA 20 NPS2019 - Symposia of Natural Products Natural Product Dereplication using GNPS Feb 5, 2019 Madeleine Ernst, Daniel Petras, Mauricio Caraballo, Pieter Dorrestein Coming Soon! CCMS School - Natural Product Training GNPS, Molecular Networking, Library Search, Quantitative Analysis, NP Database Search, De novo cyclopeptide sequencing Dec 12/13 2018 Louis-Felix Nothias, Daniel Petras Download EMSC Workshop 2018 This short course is aimed at explaining how to use the METASPACE and GNPS platforms for large scale data analysis in mass spectrometry (MS) based metabolomics experiments March 11, 2018 Daniel Petras, Pieter Dorrestein Download GNPS workshop in Grahamstown, South Africa (Rhodes University) GNPS introduction with Molecular Networking November 14, 2018 Emily Gentry, Allegra Aron, Daniel Petras N/A ASP 2018 GNPS Introduction, Molecular Networking - Natural Product Discovery in bacterial extraction, `ili 3D cartography, MASST - leveraging public datasets July 2018 Mingxun Wang, Pieter Dorrestein, Mauricio Caraballo, Kyo Bin Kang Download Metabolomics 2018 GNPS Introduction, Molecular Networking - Food Analysis, `ili 3D cartography of plants, MS2LDA July 2018 Coming Soon"},{"location":"workshops/#page-contributors","title":"Page Contributors","text":"<p>Ming Wang</p>"}]}