
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://wang-bioinformatics-lab.github.io/GNPS2_Documentation/chemwalker_doc/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.2">
    
    
      
        <title>ChemWalker workflow documentation - GNPS2 Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  <script async defer data-website-id="eebbe9e8-bd03-414a-8d0c-fecb3347fcfc" src="https://analytics.gnps2.org/umami.js"></script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="#003DA5" data-md-color-accent="#FFB81C">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chemwalker-workflow-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="GNPS2 Documentation" class="md-header__button md-logo" aria-label="GNPS2 Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            GNPS2 Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ChemWalker workflow documentation
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Wang-Bioinformatics-Lab/GNPS2_Documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Wang-Bioinformatics-Lab/GNPS2_Documentation
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="GNPS2 Documentation" class="md-nav__button md-logo" aria-label="GNPS2 Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    GNPS2 Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Wang-Bioinformatics-Lab/GNPS2_Documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Wang-Bioinformatics-Lab/GNPS2_Documentation
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Server Status
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../accounts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accounts
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../fileupload/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File Upload
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mass Spec File Conversion
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Mass Spec File Conversion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fileconversion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File Conversion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agilent_conversion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agilent
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../toolindex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overall Tool Index
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflowindex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Analysis Workflow Index
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GNPS2 USI
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    IDBac
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            IDBac
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../idbacdepositions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IDBac Database Depositions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../idbacanalysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IDBac Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../idbacrawconversion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Raw Bruker Data Conversion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../idbacmzxmlconversion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mzXML to mzML Conversion
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    FBMN
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            FBMN
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agilent_fbmn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agilent
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflowdev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GNPS2 Workflow Development
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../community/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Join the GNPS2 community
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact/Office Hours
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quick-tutorial-of-chemwalker-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Quick tutorial of chemwalker workflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick tutorial of chemwalker workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input" class="md-nav__link">
    <span class="md-ellipsis">
      Input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#links-to-task-ids" class="md-nav__link">
    <span class="md-ellipsis">
      Links to task ids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-input" class="md-nav__link">
    <span class="md-ellipsis">
      Example Input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output" class="md-nav__link">
    <span class="md-ellipsis">
      Output
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-task" class="md-nav__link">
    <span class="md-ellipsis">
      Example task
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example task">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-output" class="md-nav__link">
    <span class="md-ellipsis">
      Example output
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/Wang-Bioinformatics-Lab/GNPS2_Documentation/edit/master/docs/chemwalker_doc.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="chemwalker-workflow-documentation">ChemWalker workflow documentation<a class="headerlink" href="#chemwalker-workflow-documentation" title="Permanent link">&para;</a></h1>
<p>Chemwalker is a tool published by R. da Silva lab to annotate features in metabolomic networks by propagating annotations on non-directly connected nodes by using MetFrag. The article is published <a href="https://academic.oup.com/bioinformatics/article/39/3/btad078/7067745">here</a> and the source code is available in <a href="https://github.com/computational-chemical-biology">github</a>. 
A detailed explanation of the tool is found <a href="#full-tutorial-of-chemwalker">below</a>. </p>
<h2 id="quick-tutorial-of-chemwalker-workflow">Quick tutorial of chemwalker workflow<a class="headerlink" href="#quick-tutorial-of-chemwalker-workflow" title="Permanent link">&para;</a></h2>
<h3 id="input">Input<a class="headerlink" href="#input" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>Job Description</td>
<td>Label for the ChemWalker job to identify it by the user</td>
<td></td>
<td>no</td>
</tr>
<tr>
<td>GNPS task ID</td>
<td>GNPS molecular networking task id. <a href="../img/workflows/task_id.png">Identify the task id of your FBMN job in GNPS2</a>. See <a href="#links-to-task-ids">the links to the jobs in GNPS and GNPS2</a></td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td>Workflow type</td>
<td>FBMN or Classic (V2) from GNPS and FBMN from GNPS2, named GNPS2. If the GNPS server is down, the chemwalker task will not work for FBMN or Classic (V2) since it needs to retrieve the data from GNPS. Analogously with GNPS2. Links</td>
<td>GNPS2</td>
<td>yes</td>
</tr>
<tr>
<td>Component Index</td>
<td>Index of a connected component of interest in a Molecular Network. The propagation is limited to the connected component. Zero will perform propagation inside all components.</td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td>Ionization mode</td>
<td>Mass spectrometry acquisition mode.</td>
<td>Positive</td>
<td>yes</td>
</tr>
<tr>
<td>Adduct ion type</td>
<td>Expected adduct type for the precursor ion mass. It should be consistent with the ionization mode, otherwise the workflow will fail.</td>
<td>[M+H]+</td>
<td>yes</td>
</tr>
<tr>
<td>PPM tolerance (ppm)</td>
<td>Accuracy used for structure database search. The predicted neutral mass (for a given adduct selected) is compared to the exact mass of the structures provided.</td>
<td>15</td>
<td>yes</td>
</tr>
<tr>
<td>Structure databases</td>
<td>The default natural products database is the <a href="https://coconut.naturalproducts.net/">COCONUT</a> database or in house candidate structure database. See the <a href="#structure-database">Structure Database section</a></td>
<td>COCONUT.psv</td>
<td>yes</td>
</tr>
</tbody>
</table>
<p>The fields are presented in the image. Bold fields are mandatory:
<img alt="chemwalker input fields image" src="../img/workflows/chemwalker/chemwalker_input.png" /></p>
<h3 id="links-to-task-ids">Links to task ids<a class="headerlink" href="#links-to-task-ids" title="Permanent link">&para;</a></h3>
<p>The information from the molecular network is necessary to annotate the nodes (features). For that, chemwalker needs the job id of the molecular network task. To view the task_id, check the red rectangle in the <a href="../img/workflows/task_id.png">image</a>. The task id can correspond to a <a href="https://gnps2.org/workflowinput?workflowname=feature_based_molecular_networking_workflow">GNPS2 Feature based molecular networking (FBMN)</a>, to a <a href="https://gnps.ucsd.edu/ProteoSAFe/index.jsp?params=%7B%22workflow%22:%22FEATURE-BASED-MOLECULAR-NETWORKING%22,%22library_on_server%22:%22d.speclibs;%22%7D">GNPS FBMN</a> or a <a href="https://gnps.ucsd.edu/ProteoSAFe/index.jsp?params=%7B%22workflow%22:%22METABOLOMICS-SNETS-V2%22,%22library_on_server%22:%22d.speclibs;%22%7D">GNPS Molecular Networking v2</a>. </p>
<h3 id="example-input">Example Input<a class="headerlink" href="#example-input" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>#</th>
<th>Information</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.</td>
<td>Task description</td>
<td>User label to identify the workflow task</td>
</tr>
<tr>
<td>2.</td>
<td><strong>GNPS2, FBMN, or FBMNv2 task id</strong></td>
<td>b6d12e1e42b64ad6b20e7d38d5a4214b</td>
</tr>
<tr>
<td>3.</td>
<td><strong>Workflow type (GNPS2, FBMN or V2)</strong></td>
<td>GNPS2</td>
</tr>
<tr>
<td>4.</td>
<td><strong>Component (Molecular family) index</strong></td>
<td>11</td>
</tr>
<tr>
<td>5.</td>
<td><strong>File selection</strong></td>
<td>LIBRARYLOCATION/STRUCTURE/Chemwalker/COCONUT.psv</td>
</tr>
</tbody>
</table>
<h3 id="output">Output<a class="headerlink" href="#output" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>#</th>
<th>Item</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.</td>
<td><strong>Log Text area</strong></td>
<td>Text area with the result of the task. If there is some fail, the log will be written there. If the task failed and you want to contact the support team, please provide the output of this text area along with the job id.</td>
</tr>
<tr>
<td>2.</td>
<td><strong>Full results from the job</strong></td>
<td>Full results from the job. It can provide information to debug or to users with programming knowledge.</td>
</tr>
<tr>
<td>3.</td>
<td><strong>random walk structures.tsv</strong></td>
<td>File with the annotations over the nodes in the selected network/s. You can download to see the full fields or visit the online version. For a full analysis, the download of the file is recommended.</td>
</tr>
<tr>
<td>4.</td>
<td><strong>random walk structures.graphml</strong></td>
<td>Graphml with the annotations to visualize the nodes in Cytoscape. You can import this data file and dynamically analyze it there.</td>
</tr>
</tbody>
</table>
<p>The different parts of the output are presented in the image:
<img alt="Workflow clone task button" src="../img/workflows/chemwalker/chemwalker_output.png" /></p>
<h2 id="example-task">Example task<a class="headerlink" href="#example-task" title="Permanent link">&para;</a></h2>
<p>To test the functionality of the ChemWalker workflow an <a href="httpshttps://gnps2.org/status?task=13e0cc3fafd14f328197c0b45999abc8">Example task</a> can be visited, and this work can be reproduced by clicking the <a href="../img/workflows/clone_button.png">clone button</a>: </p>
<p><img alt="Workflow clone task button" src="../img/workflows/clone_button.png" /></p>
<h3 id="example-output">Example output<a class="headerlink" href="#example-output" title="Permanent link">&para;</a></h3>
<p>The result of the task is the annotation of compounds from the chosen database according to the in-silico fragmentations calculated by MetFrag. The cluster index is the identification of the feature, the score is the associated score for the corresponding annotation for that specific feature. Results are sorted according to cluster index and score. The online results are not complete, it is recommended to download the full table. </p>
<p><img alt="chemwalker annotations results example" src="../img/workflows/chemwalker/chemwalker_structures_tsv.png" /> </p>
<p>The user can download the graphml with the new nodes annotated by chem Walker, and now each node in the network contains the annotation calculated by ChemWalker. </p>
<p><img alt="chemwalker graphml network results example" src="../img/workflows/chemwalker/chemwalker_network_graphml.png" /> </p>
<h1 id="full-tutorial-of-chemwalker">Full tutorial of ChemWalker<a class="headerlink" href="#full-tutorial-of-chemwalker" title="Permanent link">&para;</a></h1>
<p>ChemWalker is a python package to propagate spectral library match identities through candidate structures provided by in silico fragmentation, using random walk.</p>
<p><img alt="model" src="../img/workflows/chemwalker/walk_schem.png" /></p>
<p>Check out the package's <a href="https://github.com/computational-chemical-biology/ChemWalker">documentation</a>.</p>
<h3 id="structure-database">Structure database<a class="headerlink" href="#structure-database" title="Permanent link">&para;</a></h3>
<p>There are basically three options for database structure selection:</p>
<ol>
<li>The default natural products database is the <a href="https://coconut.naturalproducts.net/">COCONUT</a> database. </li>
<li>Input an in house generated database. 
A standard format is required for the in house database. One can easily collect structures in the literature and format a tab separated files with SMILES strings and a character identifier of any kind, as the example database <a href="https://raw.githubusercontent.com/DorresteinLaboratory/GNPSDocumentation/master/docs/static/JNP_Kyobin.txt">Right-click, and Save link as</a>:<br />
<img alt="inhousedb" src="../img/workflows/chemwalker/example_inhouse_database.png" /></li>
</ol>
<p>Having an in house collection, the user has to first format the database, using the following <a href="http://seriema.fcfrp.usp.br:5002/upload">webserver</a>:</p>
<p><img alt="conversionweb" src="../img/workflows/chemwalker/format_database_webform.png" /></p>
<p>After submission for conversion the user should receive an email with the link to download a file in the following format <a href="https://raw.githubusercontent.com/DorresteinLaboratory/GNPSDocumentation/master/docs/static/JNP_Kyobin_formatted.txt">Right-click, and Save link as</a>:</p>
<p><img alt="inhousedbformat" src="../img/workflows/chemwalker/inhouse_databse_formatted.png" /></p>
<h2 id="chemwalker-visualization-in-cytoscape">ChemWalker Visualization in Cytoscape<a class="headerlink" href="#chemwalker-visualization-in-cytoscape" title="Permanent link">&para;</a></h2>
<p>In a similar way as Molecular Networking uses Cytoscape to visualize the whole network, we can visualize structure prediction of entire connected component or networks using the output <code>Random walk strtuctures graphml</code> available at the results page.</p>
<p>Cytoscape (we have used version &gt;= 3.4) is available for download from <a href="http://www.cytoscape.org">here</a>. </p>
<h3 id="download-chemwalkers-cytoscape-files">Download ChemWalker's Cytoscape files<a class="headerlink" href="#download-chemwalkers-cytoscape-files" title="Permanent link">&para;</a></h3>
<p>To download the Cytoscape file, go back to the results page of your task:</p>
<p><img alt="cytoscape" src="../img/workflows/chemwalker/rw_results_page_summary.png" /></p>
<p>After the download, remember to uncompress the file for downstream use.</p>
<h3 id="installing-the-chemviz-plugin">Installing the ChemViz plugin<a class="headerlink" href="#installing-the-chemviz-plugin" title="Permanent link">&para;</a></h3>
<p>To visualize the structures on NAP output we need the <a href="https://apps.cytoscape.org/apps/chemviz">ChemViz</a> plugin. The easiest way to install it is using Cytoscape's App Manager, as shown below:</p>
<p><img alt="install_chemviz" src="../img/workflows/chemwalker/chemviz_install.gif" /></p>
<h2 id="load-chemwalkers-cytoscape-file-and-apply-layout">Load ChemWalker's Cytoscape file and apply layout<a class="headerlink" href="#load-chemwalkers-cytoscape-file-and-apply-layout" title="Permanent link">&para;</a></h2>
<p>Load the graphml file and apply a layout to spread the nodes:</p>
<p><img alt="layout" src="../img/workflows/chemwalker/cytoscape_layout.gif" /></p>
<h2 id="change-image-display-properties-and-paint-library-match-structure">Change image display properties and paint library match structure<a class="headerlink" href="#change-image-display-properties-and-paint-library-match-structure" title="Permanent link">&para;</a></h2>
<p>The graphml file contains some pre-set elements to aid structure display. Browsing the 'Table Panel' is possible to inspect which scoring method has structures available in the column SMILES. To use one of these columns to display the structures we have first to change the properties of ChemViz, by doing:</p>
<p><img alt="library_smiles" src="../img/workflows/chemwalker/set_spectral_library_smiles.gif" /></p>
<p>After setting the desired source column to display the structure one can just 'paint' the structure on the node:</p>
<p><img alt="paint_library" src="../img/workflows/chemwalker/paint_spectral_library_structure.gif" /></p>
<h3 id="display-the-list-of-candidates">Display the list of candidates<a class="headerlink" href="#display-the-list-of-candidates" title="Permanent link">&para;</a></h3>
<p>The most correct structure may not be the first candidate. Therefore we can display the structures outputted from our <a href="#parameter-walkthrough">initial parameters</a>:</p>
<p><img alt="cand_chemviz" src="../img/workflows/chemwalker/display_consensus_candidates.gif" /></p>
<h2 id="citation">Citation<a class="headerlink" href="#citation" title="Permanent link">&para;</a></h2>
<p><a href="https://doi.org/10.1093/bioinformatics/btad078">Tiago Cabral Borelli, Gabriel Santos Arini, Lu√≠s G P Feitosa, Pieter C Dorrestein, Norberto Peporine Lopes, Ricardo R da Silva. Improving annotation propagation on molecular networks through random walks: introducing ChemWalker. Bioinformatics 2023, 39(3), btad078.</a></p>
<h2 id="page-contributors">Page Contributors<a class="headerlink" href="#page-contributors" title="Permanent link">&para;</a></h2>
<p>{{ git_page_authors }}</p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">December 14, 2023 16:11:02</span>
  </span>

    
    
    
    
  </aside>


  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>